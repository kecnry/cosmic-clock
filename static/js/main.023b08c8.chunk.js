(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(e,t,o){e.exports=o(287)},125:function(e,t,o){},273:function(e){e.exports={clientId:"62109761279-aokidgd7snje4ejg7bibvn97ir28b3gc.apps.googleusercontent.com",apiKey:"AIzaSyBcuPNS9MK8Hm4WMClCpYxtFZ09ub6ngNY",scope:"https://www.googleapis.com/auth/calendar.readonly",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"]}},285:function(e,t,o){},287:function(e,t,o){"use strict";o.r(t);var a=o(0),i=o.n(a),r=o(109),n=o.n(r),s=(o(125),o(76)),l=o(6),c=o(7),p=o(9),h=o(8),d=o(10),u=o(292),f=o(291),m=o(290),g=o(110),y=o(4),w=o.n(y),v=o(111),b=o.n(v),k=o(112),C=o(75),x=o(21),E=o.n(x),T=function(e){function t(){var e,o;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(o=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).onClick=function(){o.props.onClick(o.props.tooltipText,o.props.tooltipLink)},o}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=2*this.props.startAngle*Math.PI,t=2*this.props.endAngle*Math.PI,o=this.props.r,a=this.props.cx,r=this.props.cy;if(e>t){var n=e;e=t,t=n}t-e>2*Math.PI&&(t=1.99999*Math.PI);var s=t-e<=Math.PI?0:1,l=this.props.strokeWidth||this.props.width,c=null;if(this.props.strokeWidth){var p=this.props.width/2;c=["M",a+(o-p+l/2)*Math.sin(e),r-(o-p+l/2)*Math.cos(e),"A",o-p+l/2,o-p+l/2,0,s,1,a+(o-p+l/2)*Math.sin(t),r-(o-p+l/2)*Math.cos(t),"M",a+(o+p-l/2)*Math.sin(e),r-(o+p-l/2)*Math.cos(e),"A",o+p-l/2,o+p-l/2,0,s,1,a+(o+p-l/2)*Math.sin(t),r-(o+p-l/2)*Math.cos(t),"M",a+(o-p)*Math.sin(e)+l/2*Math.cos(e),r-(o-p)*Math.cos(e)+l/2*Math.sin(e),"L",a+(o+p)*Math.sin(e)+l/2*Math.cos(e),r-(o+p)*Math.cos(e)+l/2*Math.sin(e),"M",a+(o-p)*Math.sin(t)-l/2*Math.cos(t),r-(o-p)*Math.cos(t)-l/2*Math.sin(t),"L",a+(o+p)*Math.sin(t)-l/2*Math.cos(t),r-(o+p)*Math.cos(t)-l/2*Math.sin(t)].join(" ")}else c=["M",a+o*Math.sin(e),r-o*Math.cos(e),"A",o,o,0,s,1,a+o*Math.sin(t),r-o*Math.cos(t)].join(" ");var h="";return this.props.onClick&&this.props.tooltipText&&(h+="clickable"),i.a.createElement("g",{className:h,onClick:this.onClick},i.a.createElement("path",{d:c,stroke:this.props.color,strokeWidth:l,fill:"none",opacity:this.props.opacity}))}}]),t}(a.Component),M=function(e){function t(){var e,o;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(o=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).onClick=function(){o.props.onClick(o.props.tooltipText,o.props.tooltipLink)},o}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=2*this.props.endAngle*Math.PI,t=this.props.length/2,o=this.props.strokeWidth,a=this.props.r,r=this.props.cx,n=this.props.cy,s=["M",r+(a-t)*Math.sin(e)-o/2*Math.cos(e),n-(a-t)*Math.cos(e)-o/2*Math.sin(e),"L",r+(a+t)*Math.sin(e)-o/2*Math.cos(e),n-(a+t)*Math.cos(e)-o/2*Math.sin(e)].join(" "),l="";return this.props.onClick&&this.props.tooltipText&&(l+="clickable"),i.a.createElement("g",{className:l,onClick:this.onClick},i.a.createElement("path",{d:s,stroke:this.props.color,strokeWidth:this.props.strokeWidth,fill:"none"}))}}]),t}(a.Component),A=function(e){function t(){var e,o;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(o=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).onClick=function(){o.props.onClick&&o.props.onClick(o.props.tooltipText,o.props.tooltipLink)},o}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=2*this.props.endAngle*Math.PI,t=this.props.cx+this.props.r*Math.sin(e),o=this.props.cy-this.props.r*Math.cos(e),a=this.props.width/2,r="";return this.props.onClick&&this.props.tooltipText&&(r+="clickable"),i.a.createElement("g",{className:r,onClick:this.onClick},i.a.createElement("circle",{cx:t,cy:o,r:a,stroke:this.props.color,strokeWidth:this.props.strokeWidth,fill:this.props.fill}))}}]),t}(a.Component),j=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=2*this.props.endAngle*Math.PI,t=this.props.cx+this.props.r*Math.sin(e),o=this.props.cy-this.props.r*Math.cos(e),a=this.props.width/2;if(this.props.leftHalf)var r=0;else r=1;var n=["M",t,o,"L",t+a*Math.sin(e),o-a*Math.cos(e),"A",a,a,0,0,r,t-a*Math.sin(e),o+a*Math.cos(e)].join(" ");return i.a.createElement("path",{d:n,stroke:null,fill:this.props.color})}}]),t}(a.Component),S=o(74),O=o.n(S),L=o(284),W=[31,28,31,30,31,30,31,31,30,31,30,31],D=["new","waxing-crescent-1","waxing-crescent-2","waxing-crescent-3","waxing-crescent-4","waxing-crescent-5","waxing-crescent-6","first-quarter","waxing-gibbous-1","waxing-gibbous-2","waxing-gibbous-3","waxing-gibbous-4","waxing-gibbous-5","waxing-gibbous-6","full","waning-gibbous-1","waning-gibbous-2","waning-gibbous-3","waning-gibbous-4","waning-gibbous-5","waning-gibbous-6","third-quarter","waning-crescent-1","waning-crescent-2","waning-crescent-3","waning-crescent-4","waning-crescent-5","waning-crescent-6"],I=function(e,t,o){return"snow"==o?e<.01||t<.05?"transparent":e<.2?"lightblue":e<.3?"lightskyblue":e<.4?"cornflowerblue":e<.5?"royalblue":e<.6?"blue":e<.7?"mediumblue":e<.8?"darkblue":e<.9?"navy":"midnightblue":"sleet"===o?e<.01||t<.05?"transparent":e<.2?"mediumpurple":e<.3?"mediumpurple":e<.4?"darkviolet":e<.5?"darkviolet":e<.6?"darkviolet":"indigo":e<.01||t<.05?"transparent":e<.2?"greenyellow":e<.3?"green":e<.4?"darkgreen":e<.5?"yellow":e<.6?"gold":e<.7?"orange":e<.8?"orangered":e<.9?"red":"darkred"},F=function(e){return e<0&&(e=0),["#0012ff","#0022ff","#0032ff","#0044ff","#0054ff","#0064ff","#0074ff","#0084ff","#0094ff","#00a4ff","#00b4ff","#00c4ff","#00d4ff","#00e4ff","#00fff4","#fffa00","#fff000","#ffe600","#ffdc00","#ffd200","#ffc800","#ffbe00","#ffb400","#ffaa00","#ffa000","#ff9600","#ff8c00","#ff8200","#ff7800","#ff6e00","#ff6400","#ff5a00","#ff4600","#ff3c00","#ff3200","#ff2800","#ff1e00","#ff1400","#ff0a00"][parseInt(e/100*39,10)]};O.a.apiKey="796616a5ef888b16148b7f659fba5725";var N,q,z=function(e){function t(){var e,o;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(o=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).state={date:new Date,fixedDate:null,sunTimes:null,moonPhase:null,calendarEvents:null,calendarUpdateTime:null,calendarUpdateIntervalMins:10,weather:null,weatherUpdateTime:null,weatherUpdateIntervalMins:null,location:null},o.computeSunTimes=function(){return o.state.location?(console.log("computeSunTimes at location: "+o.state.location.lat+"   "+o.state.location.long),L.getTimes(o.state.date,o.state.location.lat,o.state.location.long)):(console.log("computeSunTimes NO LOCATION"),null)},o.computeMoonPhase=function(){return console.log("computeMoonPhase at "+o.state.date),L.getMoonIllumination(o.state.date).phase},o.updateCalendar=function(){o.props.showCalendar&&!o.props.fixedDate?(console.log("updateCalendar"),E.a.listUpcomingEvents(10).then(function(e){var t=e.result;o.setState({calendarEvents:t.items,calendarUpdateTime:new Date})})):console.log("skipping updating calendar")},o.updateWeatherState=function(e){var t=e.updatedDateTime.toDate(),a=60;e.hourly.data[0].precipIntensity>.01&&e.hourly.data[0].precipProbability>.01&&(a=30),e.hourly.data[1].precipIntensity>.01&&e.hourly.data[1].precipProbability>.01&&(a=30);for(var i=15;i<60;i++)if(e.minutely.data[i].precipIntensity>.01&&e.minutely.data[i].precipProbability>.01&&.8*i<a){a=.8*i;break}o.setState({weather:e,weatherUpdateTime:t,weatherUpdateIntervalMins:a})},o.updateWeather=function(){if((o.props.showForecastRain||o.props.showForecastCloud||o.props.showForecastTemp)&&!o.props.fixedDate){if(o.state.location){console.log("updateWeather");var e={latitude:o.state.location.lat,longitude:o.state.location.long};O.a.loadItAll("flags,alerts",e).then(function(e){return o.updateWeatherState(e)}),o.props.refreshForecastComplete()}}else console.log("skipping weather update")},o.getDarkSkyLink=function(e){var t=o.state.weatherUpdateTime.getFullYear(),a=o.state.weatherUpdateTime.getMonth()+1,i=o.state.weatherUpdateTime.getDate()+e;return i>W[a-1]&&(i-=W[a-1],a+=1),a>12&&(a=1,t+=1),"https://darksky.net/details/"+o.state.location.lat+","+o.state.location.long+"/"+t+"-"+a+"-"+i+"/us12/en"},o}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;setInterval(function(){if(!e.props.pauseUpdates){var t=e.props.fixedLocation||e.props.liveLocation;e.state.location||t?e.state.location&&(!t||t.long===e.state.location.long&&t.lat===e.state.location.lat&&e.state.sunTimes)?e.props.fixedDate!==e.state.fixedDate?(e.setState({date:e.props.fixedDate||new Date,fixedDate:e.props.fixedDate}),e.setState({sunTimes:e.computeSunTimes(),moonPhase:e.computeMoonPhase()})):e.setState({date:e.props.fixedDate||new Date}):(e.setState({date:e.props.fixedDate||new Date,location:t}),e.setState({sunTimes:e.computeSunTimes(),moonPhase:e.computeMoonPhase()}),e.setState({weather:null})):e.setState({date:e.props.fixedDate||new Date});var o=!e.props.fixedDate&&(e.props.showForecastRain||e.props.showForecastTemp||e.props.showForecastCloud),a=(e.state.date-e.state.weatherUpdateTime)/6e4>e.state.weatherUpdateIntervalMins;o&&(!e.state.weather||e.props.refreshForecast||a)&&e.updateWeather(),!e.props.fixedDate&&e.props.showCalendar&&(!e.state.calendarEvents||(e.state.date-e.state.calendarUpdateTime)/6e4>e.state.calendarUpdateIntervalMins)&&e.updateCalendar()}},1e3),setInterval(function(){e.props.pauseUpdates||e.setState({sunTimes:e.computeSunTimes(),moonPhase:e.computeMoonPhase()})},864e5),this.setState({moonPhase:this.computeMoonPhase()})}},{key:"render",value:function(){var e=0,t=(this.state.date.getSeconds()+0)/60,o=(this.state.date.getMinutes()+t)/60,a=(this.state.date.getHours()+o)/24,r=this.state.date.getDate()+a,n=this.state.date.getMonth()+1,s=(r-1)/W[n-1],l=a;for(e=1;e<n;e++)l+=W[n-1];var c=l/365;if(this.state.sunTimes)var p=(this.state.sunTimes.sunrise.getHours()+this.state.sunTimes.sunrise.getMinutes()/60)/24,h="sunrise today at "+this.state.sunTimes.sunrise.toLocaleTimeString(),d=(this.state.sunTimes.sunset.getHours()+this.state.sunTimes.sunset.getMinutes()/60)/24,u="sunset today at "+this.state.sunTimes.sunset.toLocaleTimeString();var f=s-this.state.moonPhase,g=f+.25,y=f+.5,v=f+.75,b=this.props.size,k=this.props.size,C=this.props.size/12,x=this.props.size/100,E=this.props.size/3,S=.8*E,O=this.props.size/6.5,L=this.state.date.getHours();0===L&&(L=12),L>12&&(L-=12);var N=L+":"+("00"+this.state.date.getMinutes()).slice(-2),q=this.state.date.toLocaleDateString("en-us",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),z=[],P=new Date,U=new Date,H=null,R=null,V=null,Y=null;if(this.props.showCalendar&&this.state.calendarEvents)for(e=0;e<this.state.calendarEvents.length;e++)P.setTime(Date.parse(this.state.calendarEvents[e].start.dateTime)),U.setTime(Date.parse(this.state.calendarEvents[e].end.dateTime)),U-this.state.date<864e5&&U-this.state.date>0&&(H=(P.getHours()+P.getMinutes()/60)/24,R=(U.getHours()+U.getMinutes()/60)/24,V=this.state.calendarEvents[e].summary+" ("+P.toLocaleDateString()+" "+P.toLocaleTimeString()+"-"+U.toLocaleTimeString()+")",Y=this.state.calendarEvents[e].htmlLink,z.push(i.a.createElement(T,{cx:b,cy:k,r:E+2*O,width:2*C,startAngle:H,endAngle:R,color:this.props.fgColor,strokeWidth:.75*x,tooltipText:V,tooltipLink:Y,onClick:this.props.displayTooltip})));var B="wi ",J=null;this.props.fixedDate?B+="wi-moon-"+D[parseInt(28*this.state.moonPhase,10)]:this.props.showForecastRain?this.state.weather?B+="wi-forecast-io-"+this.state.weather.currently.icon:B+="wi-rain":this.props.showForecastTemp?this.state.weather?J=parseInt(this.state.weather.currently.temperature,10):B+="wi-thermometer":this.props.showForecastCloud?this.state.weather?this.state.weather.currently.cloudCover>.5?B+="wi-cloudy":this.state.weather.currently.cloudCover>.3?B+="wi-cloud":B+=a>d||a<p?"wi-night-clear":"wi-day-sunny":B+="wi-cloudy":B+="wi-moon-"+D[parseInt(28*this.state.moonPhase,10)];var K=1,_=[],G=null,Q=null,Z=[],$=[],X=null,ee=null,te=[],oe=null,ae=[],ie=[],re=[],ne=null,se=null,le=[],ce=[],pe=null,he=null,de=null,ue=null,fe=null,me="",ge=null,ye=null;if((this.props.showForecastRain||this.props.showForecastCloud||this.props.showForecastTemp)&&this.state.weather&&!this.props.fixedDate){if("minutely"in this.state.weather){var we=this.state.date.getMinutes()-this.state.weatherUpdateTime.getMinutes();we<0&&(we+=60),ge=this.getDarkSkyLink(0);for(var ve=0;ve<60;ve++)(G=(this.state.date.getMinutes()+ve)/60)<1?(X=0,ee="this"):(X=1,ee="next"),this.state.date.getHours()>this.state.weatherUpdateTime.getHours()&&(X+=1),ve+we<60?(pe=this.state.weather.minutely.data[ve+we].precipIntensity,he=this.state.weather.minutely.data[ve+we].precipProbability,de=this.state.weather.minutely.data[ve+we].precipType,me=parseInt(100*he,10)+"% chance of "+de+" in "+ve+" minutes with "+parseInt(100*pe,10)+"% intensity.",K=1):(pe=this.state.weather.hourly.data[X].precipIntensity,he=this.state.weather.hourly.data[X].precipProbability,de=this.state.weather.hourly.data[X].precipType,me=parseInt(100*he,10)+"% chance of "+de+" in "+ee+" hour with "+parseInt(100*pe,10)+"% intensity. (minute data available in "+parseInt(this.state.weatherUpdateIntervalMins-we,10)+" minutes)",K=.7),ye=I(pe,he,de),_.push(i.a.createElement(T,{cx:b,cy:k,r:E+3*O,width:(1+.8*he)*C,startAngle:G,endAngle:G+1.01/60,color:ye,opacity:K,tooltipText:me,tooltipLink:ge,onClick:this.props.displayTooltip})),ue=this.state.weather.hourly.data[X].temperature,ye=F(ue),me=ue+" degrees "+ee+" hour.",Z.push(i.a.createElement(T,{cx:b,cy:k,r:E+3*O,width:1.5*C,startAngle:G,endAngle:G+1.01/60,color:ye,tooltipText:me,tooltipLink:ge,onClick:this.props.displayTooltip})),fe=this.state.weather.hourly.data[X].cloudCover,me=parseInt(100*fe,10)+"% cloud cover "+ee+" hour.",$.push(i.a.createElement(T,{cx:b,cy:k,r:E+3*O,width:1.5*C,startAngle:G,endAngle:G+1.01/60,color:this.props.fgColor,opacity:.7*fe,tooltipText:me,tooltipLink:ge,onClick:this.props.displayTooltip}))}for(var be=0;be<24;be++)ge=(oe=(this.state.weatherUpdateTime.getHours()+be)/24)<0||oe>1?this.getDarkSkyLink(1):this.getDarkSkyLink(0),Q=oe-a<=-1/24?be+24:be,pe=this.state.weather.hourly.data[Q].precipIntensity,he=this.state.weather.hourly.data[Q].precipProbability,de=this.state.weather.hourly.data[Q].precipType,ye=I(pe,he,de),me=parseInt(100*he,10)+"% chance of "+de+" starting in "+(24*(oe-a)).toFixed(1)+" hours with "+parseInt(100*pe,10)+"% intensity.",te.push(i.a.createElement(T,{cx:b,cy:k,r:E+2*O,width:(1+.8*he)*C,startAngle:oe,endAngle:oe+1.01/24,color:ye,opacity:1,tooltipText:me,tooltipLink:ge,onClick:this.props.displayTooltip})),ue=this.state.weather.hourly.data[Q].temperature,ye=F(ue),me=ue+" degrees in "+Q+" hours.",ae.push(i.a.createElement(T,{cx:b,cy:k,r:E+2*O,width:1.5*C,startAngle:oe,endAngle:oe+1.01/24,color:ye,opacity:1,tooltipText:me,tooltipLink:ge,onClick:this.props.displayTooltip})),fe=this.state.weather.hourly.data[Q].cloudCover,me=parseInt(100*fe,10)+"% cloud cover in "+Q+" hours.",ie.push(i.a.createElement(T,{cx:b,cy:k,r:E+2*O,width:1.5*C,startAngle:oe,endAngle:oe+1.01/24,color:this.props.fgColor,opacity:.7*fe,tooltipText:me,tooltipLink:ge,onClick:this.props.displayTooltip}));for(var ke=0;ke<=7;ke++)(ne=(this.state.weatherUpdateTime.getDate()-1+ke)/W[n-1])>1&&(ne-=1),ge=this.getDarkSkyLink(ke),se=0===ke?"today":1===ke?"tomorrow":"on "+["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][this.state.weatherUpdateTime.getDay()+ke],pe=this.state.weather.daily.data[ke].precipIntensityMax,he=this.state.weather.daily.data[ke].precipProbability,de=this.state.weather.daily.data[ke].precipType,ye=I(pe,he,de),me=parseInt(100*he,10)+"% chance of "+de+" "+se+" with "+parseInt(100*pe,10)+"% maximum intensity.",re.push(i.a.createElement(T,{cx:b,cy:k,r:E+1*O,width:(1+.8*he)*C,startAngle:ne,endAngle:ne+1.01/W[n-1],color:ye,tooltipText:me,tooltipLink:ge,onClick:this.props.displayTooltip})),ue=this.state.weather.daily.data[ke].temperatureMax,ye=F(ue),me=ue+" degrees (max) "+se+".",le.push(i.a.createElement(T,{cx:b,cy:k,r:E+1*O,width:1.5*C,startAngle:ne,endAngle:ne+1.01/W[n-1],color:ye,tooltipText:me,tooltipLink:ge,onClick:this.props.displayTooltip})),fe=this.state.weather.daily.data[ke].cloudCover,me=parseInt(100*fe,10)+"% cloud cover "+se+".",ce.push(i.a.createElement(T,{cx:b,cy:k,r:E+1*O,width:1.5*C,startAngle:ne,endAngle:ne+1.01/W[n-1],color:this.props.fgColor,opacity:.7*fe,tooltipText:me,tooltipLink:ge,onClick:this.props.displayTooltip}));re.push(i.a.createElement(M,{cx:b,cy:k,r:E+1*O,endAngle:ne+1.01/W[n-1],color:I(.1,1),strokeWidth:x/2,length:1.8*C}))}return i.a.createElement("div",{style:{paddingTop:50}},i.a.createElement("td",{style:{textAlign:"center",zIndex:-999,height:"0px"}},i.a.createElement("i",{style:{color:this.props.fgColor,fontSize:S,position:"fixed",top:this.props.size+50-S/2,width:"100%",height:"0px",display:"inline-block"}},i.a.createElement(m.a,{to:{pathname:"/cosmic-clock/",search:w.a.stringify(this.props.cycleForecastNextQuery,{encode:!1})}},J?i.a.createElement("span",{onClick:null},J,"\xb0"):i.a.createElement("span",{className:B,onClick:null})))),i.a.createElement("div",null,i.a.createElement("svg",{width:2*this.props.size,height:2*this.props.size},i.a.createElement("g",null,i.a.createElement(M,{cx:b,cy:k,r:E+0*O,endAngle:355/365,color:this.props.fgColor,strokeWidth:x/2,length:C}),i.a.createElement(M,{cx:b,cy:k,r:E+0*O,endAngle:355/365-.25,color:this.props.fgColor,strokeWidth:x/2,length:C}),i.a.createElement(M,{cx:b,cy:k,r:E+0*O,endAngle:355/365-.5,color:this.props.fgColor,strokeWidth:x/2,length:C}),i.a.createElement(M,{cx:b,cy:k,r:E+0*O,endAngle:355/365-.75,color:this.props.fgColor,strokeWidth:x/2,length:C}),i.a.createElement(M,{cx:b,cy:k,r:E+0*O,endAngle:4/365,color:this.props.fgColor,strokeWidth:x,length:C/2}),i.a.createElement(M,{cx:b,cy:k,r:E+0*O,endAngle:4/365+.5,color:this.props.fgColor,strokeWidth:x,length:C/2}),i.a.createElement(T,{cx:b,cy:k,r:E+0*O,width:C,startAngle:0,endAngle:c,color:this.props.fgColor,strokeWidth:x}),this.props.showForecastCloud?ce:null,this.props.showForecastTemp?le:null,this.props.showForecastRain?re:null,i.a.createElement(A,{cx:b,cy:k,r:E+1*O,width:.9*C,endAngle:f,color:this.props.fgColor,strokeWidth:x,fill:"transparent"}),i.a.createElement(A,{cx:b,cy:k,r:E+1*O,width:.9*C,endAngle:g,color:this.props.fgColor,strokeWidth:x,fill:"transparent"}),i.a.createElement(j,{cx:b,cy:k,r:E+1*O,width:.9*C,endAngle:g,leftHalf:!0,color:this.props.fgColor}),i.a.createElement(A,{cx:b,cy:k,r:E+1*O,width:.9*C,endAngle:y,color:this.props.fgColor,strokeWidth:x,fill:this.props.fgColor}),i.a.createElement(A,{cx:b,cy:k,r:E+1*O,width:.9*C,endAngle:v,color:this.props.fgColor,strokeWidth:x,fill:"transparent"}),i.a.createElement(j,{cx:b,cy:k,r:E+1*O,width:.9*C,endAngle:v,leftHalf:!1,color:this.props.fgColor}),i.a.createElement(T,{cx:b,cy:k,r:E+1*O,width:C,startAngle:0,endAngle:s,color:this.props.fgColor,strokeWidth:x}),this.props.showForecastCloud?ie:null,this.props.showForecastTemp?ae:null,this.props.showForecastRain?te:null,this.props.showCalendar?z:null,i.a.createElement(T,{cx:b,cy:k,r:E+2*O,width:C,startAngle:0,endAngle:a,color:this.props.fgColor}),this.state.sunTimes?i.a.createElement(A,{cx:b,cy:k,r:E+2*O,width:1.7*C,endAngle:p,color:this.props.fgColor,strokeWidth:x,fill:this.props.fgColor,tooltipText:h,onClick:this.props.displayTooltip}):null,this.state.sunTimes?i.a.createElement(A,{cx:b,cy:k,r:E+2*O,width:1.7*C,endAngle:d,color:this.props.fgColor,strokeWidth:x,fill:"transparent",tooltipText:u,onClick:this.props.displayTooltip}):null,this.props.showForecastCloud?$:null,this.props.showForecastTemp?Z:null,this.props.showForecastRain?_:null,i.a.createElement(T,{cx:b,cy:k,r:E+3*O,width:C,startAngle:0,endAngle:o,color:this.props.fgColor}),i.a.createElement(M,{cx:b,cy:k,r:E+4*O,endAngle:t,color:this.props.fgColor,strokeWidth:x/2,length:C})))),i.a.createElement("div",null,i.a.createElement(m.a,{style:{color:this.props.fgColor,margin:"5px",display:"inherit",fontFamily:"Helvetica, Arial, sans-serif",fontSize:56,fontWeight:"bold"},to:{pathname:"/cosmic-clock/datetime",search:this.props.search}},N),i.a.createElement(m.a,{style:{color:this.props.fgColor,margin:"5px",display:"inherit",fontSize:24,fontWeight:"normal"},to:{pathname:"/cosmic-clock/datetime",search:this.props.search}},q),i.a.createElement(m.a,{style:{color:this.props.fgColor,margin:"5px",display:"inherit",fontSize:24,fontWeight:"normal"},to:{pathname:"/cosmic-clock/location",search:this.props.search}},this.props.locationName)))}}]),t}(a.Component);o(285);"undefined"!==typeof document.hidden?(N="hidden",q="visibilitychange"):"undefined"!==typeof document.msHidden?(N="msHidden",q="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(N="webkitHidden",q="webkitvisibilitychange");var P=function(e){return"fgColor"in e?6===e.fgColor.length?"#"+e.fgColor:e.fgColor:"#ffffff"},U=function(e){return"bgColor"in e?6===e.bgColor.length?"#"+e.bgColor:e.bgColor:"#212c40"},H=function(e){return"calendar"in e?e.calendar:null},R=function(e){return"forecast"in e?e.forecast:null},V=function(e,t){var o=w.a.parse(e),a="wi fa-2x ";return"precipitation"===t?(a+="wi-rain",o.forecast="temperature"):"temperature"===t?(a+="wi-thermometer",o.forecast="cloud-coverage"):"cloud-coverage"===t?(a+="wi-cloudy",o.forecast=void 0):(a+="wi-cloud",o.forecast="precipitation"),[o,a]},Y=function(e){if("fixedDate"in e){var t=new Date;return t.setTime(Date.parse(e.fixedDate)),t}return null},B=function(e){function t(){var e,o;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(o=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).state={windowWidth:window.innerWidth,windowHeight:window.innerHeight,windowVisible:!0,pauseUpdates:!1,refreshForecast:!1},o.onChange=function(e){return o.setState(e)},o.forceRefreshForecast=function(){o.setState({refreshForecast:!0})},o.refreshForecastComplete=function(){o.setState({refreshForecast:!1})},o.updateWindowDimensions=function(){o.setState({windowWidth:window.innerWidth,windowHeight:window.innerHeight})},o.updateWindowVisibility=function(){o.setState({windowVisible:!document[N]})},o}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateWindowDimensions),window.addEventListener(q,this.updateWindowVisibility)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions),window.removeEventListener(q,this.updateWindowVisibility)}},{key:"render",value:function(){var e=this,t=.8*this.state.windowWidth/2;this.state.windowHeight/2-125<t&&(t=this.state.windowHeight/2-125);var o=null;return this.props.coords&&(o={lat:this.props.coords.latitude,long:this.props.coords.longitude}),i.a.createElement("div",{className:"App"},i.a.createElement(u.a,null,i.a.createElement("div",null,i.a.createElement(f.a,{path:"/cosmic-clock/info",render:function(e){return i.a.createElement(G,{match:e.match,search:e.location.search,query:w.a.parse(e.location.search)})}}),i.a.createElement(f.a,{path:"/cosmic-clock/datetime",render:function(e){return i.a.createElement(Q,{match:e.match,history:e.history,search:e.location.search,query:w.a.parse(e.location.search)})}}),i.a.createElement(f.a,{path:"/cosmic-clock/location",render:function(e){return i.a.createElement(Z,{match:e.match,history:e.history,search:e.location.search,query:w.a.parse(e.location.search),liveLocation:o})}}),i.a.createElement(f.a,{path:"/cosmic-clock/color",render:function(e){return i.a.createElement($,{match:e.match,history:e.history,search:e.location.search,query:w.a.parse(e.location.search)})}}),i.a.createElement(f.a,{path:"/cosmic-clock/",render:function(a){return i.a.createElement(J,{match:a.match,history:a.history,search:a.location.search,query:w.a.parse(a.location.search),size:t,liveLocation:o,forceRefreshForecast:e.forceRefreshForecast,refreshForecast:e.state.refreshForecast,refreshForecastComplete:e.refreshForecastComplete,windowVisible:e.state.windowVisible,pauseUpdates:e.state.pauseUpdates})}}))))}}]),t}(a.Component),J=function(e){function t(e){var o;return Object(l.a)(this,t),(o=Object(p.a)(this,Object(h.a)(t).call(this,e))).displayTooltip=function(e,t){o.setState({tooltipText:e,tooltipLink:t,showTooltip:!0})},o.hideTooltip=function(){o.setState({showTooltip:!1})},o.calendarAuthorizeIfNecessary=function(){!o.state.calendarAuthorized&&H(o.props.query)&&o.onCalendarAuthorize()},o.updateCalendarAuthorization=function(){o.setState({calendarAuthorized:E.a.sign})},o.onCalendarAuthorize=function(){console.log("onCalendarAuthorize"),E.a.handleAuthClick(),o.updateCalendarAuthorization(),o.props.query.calendar=!0,o.props.history.push({pathname:"/cosmic-clock/",search:w.a.stringify(o.props.query,{encode:!1})})},o.state={showTooltip:!1,tooltipText:"",tooltipLink:null,liveLocationName:null,calendarAuthorized:E.a.sign},E.a.onLoad(function(){o.calendarAuthorizeIfNecessary()}),o}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e,t=this,o="forecastCycleSeconds"in(e=this.props.query)?e.forecastCycleSeconds:0;o>1&&setInterval(function(){var e=R(t.props.query),o=V(t.props.search,e),a=Object(s.a)(o,2),i=a[0];a[1];t.props.history.push({pathname:"/cosmic-clock/",search:w.a.stringify(i,{encode:!1})})},1e3*o)}},{key:"render",value:function(){var e,t=this,o=P(this.props.query),a=U(this.props.query),r=H(this.props.query),n=R(this.props.query),l=Y(this.props.query),c=function(e){if("fixedLocation"in e){var t=e.fixedLocation.split(",");return{lat:parseFloat(t[0]),long:parseFloat(t[1])}}return null}(this.props.query),p="locationName"in(e=this.props.query)?e.locationName:null;p||!this.props.liveLocation||this.state.liveLocationName||(console.log("attempting reverse geolocation at: lat: "+this.props.liveLocation.lat+" lng: "+this.props.liveLocation.long),(new window.google.maps.Geocoder).geocode({location:{lat:this.props.liveLocation.lat,lng:this.props.liveLocation.long}},function(e,o){if("OK"===o){for(var a=0;a<e.length;a++)if(e[a].types.includes("locality")){t.setState({liveLocationName:e[a].formatted_address});break}}else console.log("reverse geocode failed with status: "+o)}));document.body.style.backgroundColor=a;var h=[];if(!l&&(c||this.props.liveLocation)){var d=null,u=V(this.props.search,n),f=Object(s.a)(u,2),m=f[0],g=f[1],y=.6;if(n){y=.9;var v=.6;this.props.refreshForecast&&(v=.9),d=i.a.createElement(K,{onClick:this.props.forceRefreshForecast,style:{paddingRight:"10px",opacity:v},iconColor:o,iconWidth:"40px",iconClass:"wi fa-2x wi-cloud-refresh"})}h.push(i.a.createElement(K,{to:{pathname:"/cosmic-clock/",search:w.a.stringify(m,{encode:!1})},style:{paddingRight:"10px",opacity:y},iconColor:o,iconWidth:"40px",iconClass:g})),h.push(d)}var b=[];if(this.state.calendarAuthorized){var k=w.a.parse(this.props.search);k.calendar=!r||void 0;var C=.6;r&&(C=.9),b.push(i.a.createElement(K,{to:{pathname:"/cosmic-clock/",search:w.a.stringify(k,{encode:!1})},style:{paddingRight:"10px",opacity:C},iconColor:o,iconWidth:"40px",iconClass:"far fa-2x fa-calendar-alt"}))}else b.push(i.a.createElement(K,{onClick:this.onCalendarAuthorize,style:{paddingRight:"10px",opacity:.6},iconColor:o,iconWidth:"40px",iconClass:"far fa-2x fa-calendar"}));return i.a.createElement("div",{className:"ClockApp"},i.a.createElement(_,{showTooltip:this.state.showTooltip,tooltipText:this.state.tooltipText,tooltipLink:this.state.tooltipLink,onClose:this.hideTooltip,bgColor:a,fgColor:o}),i.a.createElement("div",{style:{position:"absolute",top:"2%",right:"2%"}},i.a.createElement(K,{to:{pathname:"/cosmic-clock/info",search:this.props.search},style:{paddingLeft:"10px",opacity:.6},iconColor:o,iconWidth:"40px",iconClass:"fas fa-lg fa-info"})),i.a.createElement("div",{style:{position:"absolute",bottom:"2%",left:"2%"}},b,h),i.a.createElement("div",{style:{position:"absolute",bottom:"2%",right:"2%"}},i.a.createElement(K,{to:{pathname:"/cosmic-clock/color",search:this.props.search},style:{paddingLeft:"10px",opacity:.6},iconColor:o,iconWidth:"40px",iconClass:"fas fa-2x fa-palette"})),i.a.createElement(z,{search:this.props.search,size:this.props.size,bgColor:a,fgColor:o,fixedDate:l,fixedLocation:c,liveLocation:this.props.liveLocation,locationName:p||this.state.liveLocationName,showCalendar:r&&this.state.calendarAuthorized,showForecastRain:"precipitation"===n,showForecastTemp:"temperature"===n,showForecastCloud:"cloud-coverage"===n,refreshForecast:this.props.refreshForecast,refreshForecastComplete:this.props.refreshForecastComplete,cycleForecastNextQuery:m||null,displayTooltip:this.displayTooltip,pauseUpdates:!this.props.windowVisible||this.props.pauseUpdates}))}}]),t}(a.Component),K=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.to?i.a.createElement(m.a,{className:"button",to:this.props.to,style:this.props.style},i.a.createElement("i",{className:this.props.iconClass,style:{color:this.props.iconColor,width:this.props.iconWidth}}),this.props.text):i.a.createElement("a",{className:"button",onClick:this.props.onClick,style:this.props.style},i.a.createElement("i",{className:this.props.iconClass,style:{color:this.props.iconColor,width:this.props.iconWidth}}),this.props.text)}}]),t}(a.Component),_=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e="block";return this.props.showTooltip||(e="none"),i.a.createElement("div",{style:{position:"fixed",width:"100%",height:"100%",paddingTop:"30%",backgroundColor:"rgba(0,0,0,0.85)",display:e,zIndex:999},onClick:this.props.onClose},i.a.createElement("div",{style:{top:"50%",width:"50%",margin:"auto",backgroundColor:this.props.bgColor,borderRadius:"10px",padding:"5px 20px 5px 20px"}},i.a.createElement("h2",{style:{color:this.props.fgColor}},this.props.tooltipText),this.props.tooltipLink?i.a.createElement("a",{href:this.props.tooltipLink,style:{color:this.props.fgColor},target:"_blank",rel:"noopener noreferrer"},i.a.createElement("span",{className:"fas fa-external-link-alt"})," more info"):null,i.a.createElement("p",{style:{color:this.props.fgColor}},"(click anywhere to close)")))}}]),t}(a.Component),G=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=P(this.props.query),t=U(this.props.query);return i.a.createElement("div",{style:{position:"fixed",width:"100%",height:"100%",paddingTop:"50px",backgroundColor:t,zIndex:999,overflowY:"scroll"}},i.a.createElement(K,{to:{pathname:"/cosmic-clock/",search:this.props.search},style:{position:"fixed",top:"2%",right:"2%"},iconColor:e,iconClass:"fas fa-2x fa-times"}),i.a.createElement("div",{className:"Settings",style:{paddingTop:"5px"}},i.a.createElement("div",{className:"SettingsSection"},i.a.createElement("p",{style:{color:e}},"Designed and Written by ",i.a.createElement("a",{href:"http://keconroy.com",target:"_blank",rel:"noopener noreferrer"},"Kyle Conroy"),i.a.createElement("br",null),"as an ",i.a.createElement("a",{href:"http://github.com/kecnry/cosmic-clock",target:"_blank",rel:"noopener noreferrer"},"open-source project on GitHub"))),i.a.createElement("div",{className:"SettingsSection"},i.a.createElement("p",{style:{color:e,paddingLeft:"10px",paddingRight:"10px",maxWidth:"600px",margin:"auto"}},i.a.createElement("b",null,"How to read:"),"the tick moving around the outside of the circle can be thought of as the second-hand of a clock. Just inside that is a solid arc representing the minute-hand of a clock, or circular progress bar representing how much of the current hour has passed. The inner solid arc tells how much of the current day has passed (so like an hour-hand, but representing a full 24 hours instead of 12).  On top of this arc are two icons: a solid and hollow circle representing the time of sunrise and sunset, respectively, for the current location. The outer hollow arc tells how much of the current month has passed, with icons representing the (approximate) times in the current month of the quarter phases of the moon. The inner hollow arc tells how much of the current year has passed, with the long ticks representing the solar solstices and equinoxes (roughly the beginning of each season) and the shorter ticks representing perihelion (around Jan 4) and aphelion (around June 4) when the Earth is closest and furthest from the sun in its orbit, respectively.",i.a.createElement("br",null),i.a.createElement("br",null),"If weather is displayed (togglable in the bottom left) then the forecast for rain is overlayed with color representing intensitiy and width representing the chance of precipitation.  Clicking on any overlay will show the details of the expected precipitation.")),i.a.createElement("div",{className:"SettingsSection"},i.a.createElement("p",{style:{color:e}},"Weather ",i.a.createElement("a",{href:"https://darksky.net/poweredby/",target:"_blank",rel:"noopener noreferrer"},"Powered by DarkSky")))))}}]),t}(a.Component),Q=function(e){function t(){var e,o;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(o=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).onChangeDateTime=function(e){o.props.query.fixedDate=e?e.toString():void 0,o.props.history.push({pathname:"/cosmic-clock/datetime",search:w.a.stringify(o.props.query,{encode:!1})})},o}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=P(this.props.query),t=U(this.props.query),o=Y(this.props.query);return i.a.createElement("div",{style:{position:"fixed",width:"100%",height:"100%",paddingTop:"10px",backgroundColor:t,zIndex:999,overflowY:"scroll"}},i.a.createElement(K,{to:{pathname:"/cosmic-clock/",search:this.props.search},style:{position:"fixed",top:"2%",right:"2%"},iconColor:e,iconClass:"fas fa-2x fa-times"}),i.a.createElement("div",{className:"Settings",style:{paddingTop:"5px"}},i.a.createElement("div",{className:"SettingsSection"},i.a.createElement("p",{style:{color:e}},"Date and Time"),i.a.createElement("br",null),i.a.createElement(b.a,{onChange:this.onChangeDateTime,value:o}))))}}]),t}(a.Component),Z=function(e){function t(){var e,o;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(o=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).onChangeLocation=function(e){e&&"location"in e?(o.props.query.fixedLocation=e.location.lat+","+e.location.lng,o.props.query.locationName=e.description):(o.props.query.fixedLocation=void 0,o.props.query.locationName=void 0),o.props.history.push({pathname:"/cosmic-clock/location",search:w.a.stringify(o.props.query,{encode:!1})})},o}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=P(this.props.query),t=U(this.props.query);return i.a.createElement("div",{style:{position:"fixed",width:"100%",height:"100%",paddingTop:"10px",backgroundColor:t,zIndex:999,overflowY:"scroll"}},i.a.createElement(K,{to:{pathname:"/cosmic-clock/",search:this.props.search},style:{position:"fixed",top:"2%",right:"2%"},iconColor:e,iconClass:"fas fa-2x fa-times"}),i.a.createElement("div",{className:"Settings",style:{paddingTop:"5px"}},i.a.createElement("div",{className:"SettingsSection"},i.a.createElement("p",{style:{color:e}},"Location"),i.a.createElement("br",null),this.props.liveLocation?i.a.createElement("button",{onClick:this.onChangeLocation,style:{marginBottom:"10px"}},"Use GPS Location"):i.a.createElement("p",{style:{color:e}},"enable browser location to use live-location"),i.a.createElement(k.a,{onSuggestSelect:this.onChangeLocation,types:["(cities)"]}))))}}]),t}(a.Component),$=function(e){function t(){var e,o;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(o=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).onChangebgColor=function(e){o.props.query.bgColor=e.hex.slice(1),o.props.history.push({pathname:"/cosmic-clock/color",search:w.a.stringify(o.props.query)})},o.onChangefgColor=function(e){o.props.query.fgColor=e.hex.slice(1),o.props.history.push({pathname:"/cosmic-clock/color",search:w.a.stringify(o.props.query)})},o}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=P(this.props.query),t=U(this.props.query);return i.a.createElement("div",{style:{position:"fixed",width:"100%",height:"100%",paddingTop:"10px",backgroundColor:t,zIndex:999,overflowY:"scroll"}},i.a.createElement(K,{to:{pathname:"/cosmic-clock/",search:this.props.search},style:{position:"fixed",top:"2%",right:"2%"},iconColor:e,iconClass:"fas fa-2x fa-times"}),i.a.createElement(K,{to:{pathname:"/cosmic-clock/",search:this.props.search},style:{position:"fixed",bottom:"2%",right:"2%"},iconColor:e,iconClass:"fas fa-2x fa-times"}),i.a.createElement("div",{className:"Settings",style:{paddingTop:"5px"}},i.a.createElement("div",{className:"SettingsSection"},i.a.createElement("p",{style:{color:e}},"Background Color"),i.a.createElement("br",null),i.a.createElement("div",{style:{margin:"auto",width:"225px"}},i.a.createElement(C.a,{onChangeComplete:this.onChangebgColor,color:t,disableAlpha:!0}))),i.a.createElement("div",{className:"SettingsSection"},i.a.createElement("p",{style:{color:e}},"Foreground Color"),i.a.createElement("br",null),i.a.createElement("div",{style:{margin:"auto",width:"225px"}},i.a.createElement(C.a,{onChangeComplete:this.onChangefgColor,color:e,disableAlpha:!0})))))}}]),t}(a.Component),X=Object(g.geolocated)()(B),ee=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function te(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}n.a.render(i.a.createElement(X,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/cosmic-clock",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/cosmic-clock","/service-worker.js");ee?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):te(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):te(e)})}}()}},[[120,1,2]]]);
//# sourceMappingURL=main.023b08c8.chunk.js.map