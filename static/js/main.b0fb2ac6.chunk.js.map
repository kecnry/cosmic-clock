{"version":3,"sources":["clockComponents.jsx","clock.jsx","App.js","registerServiceWorker.js","index.js"],"names":["CircleSegment","_Component","_getPrototypeOf2","_this","Object","classCallCheck","this","_len","arguments","length","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","onClick","props","tooltipText","tooltipLink","inherits","createClass","key","value","startAngle","Math","PI","endAngle","r","x","cx","y","cy","s","largeArc","strokeWidth","width","d","strokeWidthInner","sin","cos","join","className","react_default","a","createElement","stroke","color","fill","opacity","Component","Tick","_Component2","_getPrototypeOf3","_this2","_len2","_key2","CircleMarker","_Component3","_getPrototypeOf4","_this3","_len3","_key3","radius","HalfCircleMarker","_Component4","leftHalf","direction","SunCalc","require","nDays","moonIcon","getPrecipColor","precipIntensity","precipProbability","precipType","getTempColor","temp","parseInt","DarkSkyApi","apiKey","hidden","visibilityChange","Clock","state","date","Date","fixedDate","sunTimes","moonPhase","calendarEvents","calendarUpdateTime","calendarUpdateIntervalMins","weather","weatherUpdateTime","weatherUpdateIntervalMins","location","computeSunTimes","console","log","lat","long","getTimes","computeMoonPhase","getMoonIllumination","phase","updateCalendar","showCalendar","ApiCalendar","listUpcomingEvents","then","_ref","result","setState","items","updateWeatherState","updatedDateTime","toDate","hourly","data","min","minutely","updateWeather","showForecastRain","showForecastCloud","showForecastTemp","latitude","longitude","loadItAll","refreshForecastComplete","getDarkSkyLink","dayOffset","year","getFullYear","month","getMonth","getDate","setInterval","pauseUpdates","fixedLocation","liveLocation","showWeather","refreshWeatherFromInterval","refreshForecast","i","rMinute","getSeconds","milliseconds","rHour","getMinutes","rDay","getHours","days","rMonth","daysTotal","rYear","rDaySunrise","sunrise","sunriseTooltipText","toLocaleTimeString","rDaySunset","sunset","sunsetTooltipText","rMonthNewMoon","rMonthFirstQuarterMoon","rMonthFullMoon","rMonthThirdQuarterMoon","size","centerSize","centerIconSize","spacing","hours12","timeString","slice","dateString","toLocaleDateString","weekday","day","calendarDay","eventDateStart","eventDateEnd","rDayEventStart","rDayEventEnd","eventTooltip","eventLink","setTime","parse","start","dateTime","end","summary","htmlLink","push","clockComponents_CircleSegment","fgColor","displayTooltip","centerIconClass","centerIconText","currently","icon","temperature","cloudCover","opacityFactor","precipHour","rHourWeather","hour","tempHour","cloudHour","minHour","minHourText","precipDay","rDayWeather","tempDay","cloudDay","precipMonth","rMonthWeather","dayOfWeekWeather","tempMonth","cloudMonth","weatherMinsOld","minFuture","h","toFixed","getDay","daily","precipIntensityMax","temperatureMax","clockComponents_Tick","style","paddingTop","textAlign","zIndex","height","fontSize","position","top","display","Link","to","pathname","process","search","queryString","stringify","cycleForecastNextQuery","encode","clockComponents_CircleMarker","clockComponents_HalfCircleMarker","margin","fontFamily","fontWeight","locationName","document","msHidden","webkitHidden","getfgColor","query","getbgColor","bgColor","getShowCalendar","calendar","getForecastType","forecast","getNextForecastButton","forecastType","toggleForecastIcon","undefined","getFixedDate","App","onChange","settings","forceRefreshForecast","updateWindowDimensions","windowWidth","window","innerWidth","windowHeight","innerHeight","updateWindowVisibility","windowVisible","addEventListener","removeEventListener","coords","BrowserRouter","Route","path","render","App_Info","match","App_DatetimeSettings","history","App_LocationSettings","App_ColorSettings","App_ClockApp","ClockApp","showTooltip","hideTooltip","calendarAuthorizeIfNecessary","calendarAuthorized","onCalendarAuthorize","updateCalendarAuthorization","sign","handleAuthClick","liveLocationName","onLoad","vantaRef","React","createRef","vantaEffect","_this4","forecastCycleSeconds","_getNextForecastButto","_getNextForecastButto2","slicedToArray","replace","bgAnimated","WAVES","el","current","mouseControls","touchControls","gyroControls","minHeight","minWidth","scale","scaleMobile","destroy","_this5","split","parseFloat","getFixedLocation","fixedLocationName","hideControls","getHideControls","google","maps","Geocoder","geocode","lng","results","status","types","includes","formatted_address","body","backgroundColor","forecastButtons","refreshForecastButton","_getNextForecastButto3","_getNextForecastButto4","toggleForecastOpacity","refreshForecastOpacity","App_ToggleButton","paddingRight","iconColor","iconWidth","iconClass","calendarButtons","cycleCalendarNextQuery","toggleCalendarOpacity","ref","App_Tooltip","onClose","right","paddingLeft","bottom","left","clock_Clock","ToggleButton","text","Tooltip","borderRadius","padding","href","target","rel","Info","overflowY","maxWidth","DatetimeSettings","onChangeDateTime","_this6","toString","entry_default","LocationSettings","onChangeLocation","_this7","description","marginBottom","Geosuggest_esm","onSuggestSelect","ColorSettings","onChangebgColor","_this8","hex","onChangefgColor","es","onChangeComplete","disableAlpha","geolocated","isLocalhost","Boolean","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","error","ReactDOM","src_App_0","getElementById","URL","origin","fetch","response","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.b0fb2ac6.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\n\nexport class CircleSegment extends Component {\n  onClick = () => {\n    this.props.onClick(this.props.tooltipText, this.props.tooltipLink)\n  }\n  render () {\n\n    // see https://codepen.io/smlsvnssn/pen/FolaA/\n    var startAngle = this.props.startAngle * 2 * Math.PI;\n    var endAngle = this.props.endAngle * 2 * Math.PI;\n\n    // console.log(\"startAngle: \"+startAngle+\" endAngle: \"+endAngle);\n\n    var r = this.props.r;\n    var x = this.props.cx;\n    var y= this.props.cy;\n\n    if (startAngle > endAngle) {\n      var s = startAngle;\n      startAngle = endAngle;\n      endAngle = s;\n    }\n    if (endAngle - startAngle > Math.PI * 2) {\n      endAngle = Math.PI * 1.99999;\n    }\n\n    var largeArc = endAngle - startAngle <= Math.PI ? 0 : 1;\n\n\n    var strokeWidth = this.props.strokeWidth || this.props.width;\n\n    var d = null;\n    if (this.props.strokeWidth) {\n      var strokeWidthInner = (this.props.width)/2;\n\n      d = [\"M\", x+(r-strokeWidthInner+strokeWidth/2)*Math.sin(startAngle), y-(r-strokeWidthInner+strokeWidth/2)*Math.cos(startAngle),\n           \"A\", r-strokeWidthInner+strokeWidth/2, r-strokeWidthInner+strokeWidth/2, 0, largeArc, 1, x+(r-strokeWidthInner+strokeWidth/2)*Math.sin(endAngle), y-(r-strokeWidthInner+strokeWidth/2)*Math.cos(endAngle),\n\n           \"M\", x+(r+strokeWidthInner-strokeWidth/2)*Math.sin(startAngle), y-(r+strokeWidthInner-strokeWidth/2)*Math.cos(startAngle),\n           \"A\", r+strokeWidthInner-strokeWidth/2, r+strokeWidthInner-strokeWidth/2, 0, largeArc, 1, x+(r+strokeWidthInner-strokeWidth/2)*Math.sin(endAngle), y-(r+strokeWidthInner-strokeWidth/2)*Math.cos(endAngle),\n\n           \"M\", x+(r-strokeWidthInner)*Math.sin(startAngle)+strokeWidth/2*Math.cos(startAngle), y-(r-strokeWidthInner)*Math.cos(startAngle)+strokeWidth/2*Math.sin(startAngle),\n           \"L\", x+(r+strokeWidthInner)*Math.sin(startAngle)+strokeWidth/2*Math.cos(startAngle), y-(r+strokeWidthInner)*Math.cos(startAngle)+strokeWidth/2*Math.sin(startAngle),\n\n           \"M\", x+(r-strokeWidthInner)*Math.sin(endAngle)-strokeWidth/2*Math.cos(endAngle), y-(r-strokeWidthInner)*Math.cos(endAngle)-strokeWidth/2*Math.sin(endAngle),\n           \"L\", x+(r+strokeWidthInner)*Math.sin(endAngle)-strokeWidth/2*Math.cos(endAngle), y-(r+strokeWidthInner)*Math.cos(endAngle)-strokeWidth/2*Math.sin(endAngle),\n          ].join(\" \");\n\n    } else {\n      d = [\"M\", x+r*Math.sin(startAngle), y-r*Math.cos(startAngle),\n           \"A\", r, r, 0, largeArc, 1, x+r*Math.sin(endAngle), y-r*Math.cos(endAngle)\n          ].join(\" \");\n\n    }\n\n    var className = ''\n    if (this.props.onClick && this.props.tooltipText) {\n      className += 'clickable'\n    }\n\n    return (\n      <g className={className} onClick={this.onClick}>\n        <path d={d} stroke={this.props.color} strokeWidth={strokeWidth} fill={\"none\"} opacity={this.props.opacity} />\n      </g>\n    )\n  }\n}\n\nexport class Tick extends Component {\n  onClick = () => {\n    this.props.onClick(this.props.tooltipText, this.props.tooltipLink)\n  }\n  render () {\n\n    var endAngle = this.props.endAngle * 2 * Math.PI;\n    var strokeWidthInner = this.props.length/2;\n    var strokeWidth = this.props.strokeWidth;\n\n    var r = this.props.r;\n    var x = this.props.cx;\n    var y= this.props.cy;\n\n    var d = [\"M\", x+(r-strokeWidthInner)*Math.sin(endAngle)-strokeWidth/2*Math.cos(endAngle), y-(r-strokeWidthInner)*Math.cos(endAngle)-strokeWidth/2*Math.sin(endAngle),\n             \"L\", x+(r+strokeWidthInner)*Math.sin(endAngle)-strokeWidth/2*Math.cos(endAngle), y-(r+strokeWidthInner)*Math.cos(endAngle)-strokeWidth/2*Math.sin(endAngle),\n\n\n            ].join(\" \");\n\n    var className = ''\n    if (this.props.onClick && this.props.tooltipText) {\n      className += 'clickable'\n    }\n\n    return (\n      <g className={className} onClick={this.onClick}>\n        <path d={d} stroke={this.props.color} strokeWidth={this.props.strokeWidth} fill={\"none\"} />\n      </g>\n    )\n  }\n}\n\nexport class CircleMarker extends Component {\n  onClick = () => {\n    if (this.props.onClick) {\n      this.props.onClick(this.props.tooltipText, this.props.tooltipLink)\n    }\n  }\n  render () {\n    var endAngle = this.props.endAngle * 2 * Math.PI;\n\n    var x = this.props.cx + this.props.r * Math.sin(endAngle);\n    var y = this.props.cy - this.props.r * Math.cos(endAngle);\n\n    var radius = this.props.width/2\n\n    var className = ''\n    if (this.props.onClick && this.props.tooltipText) {\n      className += 'clickable'\n    }\n\n    return (\n      <g className={className} onClick={this.onClick}>\n        <circle cx={x} cy={y} r={radius} stroke={this.props.color} strokeWidth={this.props.strokeWidth} fill={this.props.fill} />\n      </g>\n    )\n  }\n}\n\nexport class HalfCircleMarker extends Component {\n  render () {\n    var endAngle = this.props.endAngle * 2 * Math.PI;\n\n    var x = this.props.cx + this.props.r * Math.sin(endAngle);\n    var y = this.props.cy - this.props.r * Math.cos(endAngle);\n\n    var radius = this.props.width/2\n\n    if (this.props.leftHalf) {\n      var direction = 0\n    } else {\n      direction = 1\n    }\n\n    var d = [\"M\", x, y,\n             \"L\", x+radius*Math.sin(endAngle), y-radius*Math.cos(endAngle),\n             \"A\", radius, radius, 0, 0, direction, x-radius*Math.sin(endAngle), y+radius*Math.cos(endAngle)\n             ].join(\" \");\n\n    return (\n      <path d={d} stroke={null} fill={this.props.color} />\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport {Link} from 'react-router-dom';\n\nimport queryString from 'query-string'; // https://www.npmjs.com/package/query-string\nimport {CircleSegment, Tick, CircleMarker, HalfCircleMarker} from './clockComponents'\nimport DarkSkyApi from 'dark-sky-api'; // https://www.npmjs.com/package/dark-sky-api\nimport ApiCalendar from 'react-google-calendar-api'; // https://github.com/Insomniiak/react-google-calendar-api\n\nvar SunCalc = require('suncalc'); // https://github.com/mourner/suncalc\n\n\n// NOTE: this does not account for a leap year.\nvar nDays = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\nvar moonIcon = ['new',\n                'waxing-crescent-1', 'waxing-crescent-2', 'waxing-crescent-3', 'waxing-crescent-4', 'waxing-crescent-5', 'waxing-crescent-6',\n                'first-quarter',\n                'waxing-gibbous-1', 'waxing-gibbous-2', 'waxing-gibbous-3', 'waxing-gibbous-4', 'waxing-gibbous-5', 'waxing-gibbous-6',\n                'full',\n                'waning-gibbous-1', 'waning-gibbous-2', 'waning-gibbous-3', 'waning-gibbous-4', 'waning-gibbous-5', 'waning-gibbous-6',\n                'third-quarter',\n                'waning-crescent-1', 'waning-crescent-2', 'waning-crescent-3', 'waning-crescent-4', 'waning-crescent-5', 'waning-crescent-6',\n                ]\n\nvar getPrecipColor = function(precipIntensity, precipProbability, precipType) {\n  //https://www.quackit.com/css/css_color_codes.cfm\n  if (precipType=='snow') {\n    if (precipIntensity < 0.01 || precipProbability < 0.05) {\n      return 'transparent'\n    } else if (precipIntensity < 0.2) {\n      return 'lightblue'\n    } else if (precipIntensity < 0.3) {\n      return 'lightskyblue'\n    } else if (precipIntensity < 0.4) {\n      return 'cornflowerblue'\n    } else if (precipIntensity < 0.5) {\n      return 'royalblue'\n    } else if (precipIntensity < 0.6) {\n      return 'blue'\n    } else if (precipIntensity < 0.7) {\n      return 'mediumblue'\n    } else if (precipIntensity < 0.8) {\n      return 'darkblue'\n    } else if (precipIntensity < 0.9) {\n      return 'navy'\n    } else {\n      return 'midnightblue'\n    }\n  } else if (precipType==='sleet') {\n    if (precipIntensity < 0.01 || precipProbability < 0.05) {\n      return 'transparent'\n    } else if (precipIntensity < 0.2) {\n      return 'mediumpurple'\n    } else if (precipIntensity < 0.3) {\n      return 'mediumpurple'\n    } else if (precipIntensity < 0.4) {\n      return 'darkviolet'\n    } else if (precipIntensity < 0.5) {\n      return 'darkviolet'\n    } else if (precipIntensity < 0.6) {\n      return 'darkviolet'\n    } else if (precipIntensity < 0.7) {\n      return 'indigo'\n    } else if (precipIntensity < 0.8) {\n      return 'indigo'\n    } else if (precipIntensity < 0.9) {\n      return 'indigo'\n    } else {\n      return 'indigo'\n    }\n  } else {\n    // then rain or not provided\n    if (precipIntensity < 0.01 || precipProbability < 0.05) {\n      return 'transparent'\n    } else if (precipIntensity < 0.2) {\n      return 'greenyellow'\n    } else if (precipIntensity < 0.3) {\n      return 'green'\n    } else if (precipIntensity < 0.4) {\n      return 'darkgreen'\n    } else if (precipIntensity < 0.5) {\n      return 'yellow'\n    } else if (precipIntensity < 0.6) {\n      return 'gold'\n    } else if (precipIntensity < 0.7) {\n      return 'orange'\n    } else if (precipIntensity < 0.8) {\n      return 'orangered'\n    } else if (precipIntensity < 0.9) {\n      return 'red'\n    } else {\n      return 'darkred'\n    }\n  }\n\n\n}\n\nvar getTempColor = function(temp) {\n  var colorsColdToHot = [\"#0012ff\", \"#0022ff\", \"#0032ff\", \"#0044ff\", \"#0054ff\",\n                         \"#0064ff\", \"#0074ff\", \"#0084ff\", \"#0094ff\", \"#00a4ff\",\n                         \"#00b4ff\", \"#00c4ff\", \"#00d4ff\", \"#00e4ff\", \"#00fff4\",\n                         \"#fffa00\", \"#fff000\", \"#ffe600\", \"#ffdc00\", \"#ffd200\",\n                         \"#ffc800\", \"#ffbe00\", \"#ffb400\", \"#ffaa00\", \"#ffa000\",\n                         \"#ff9600\", \"#ff8c00\", \"#ff8200\", \"#ff7800\", \"#ff6e00\",\n                         \"#ff6400\", \"#ff5a00\", \"#ff4600\", \"#ff3c00\", \"#ff3200\",\n                         \"#ff2800\", \"#ff1e00\", \"#ff1400\", \"#ff0a00\"]\n\n  if (temp < 0) {\n    temp = 0\n  }\n\n  return colorsColdToHot[parseInt(temp/100*39, 10)];\n}\n\nDarkSkyApi.apiKey = '796616a5ef888b16148b7f659fba5725';\n\nexport default class Clock extends Component {\n  state = {\n    date: new Date(),\n    fixedDate: null,\n    sunTimes: null,\n    moonPhase: null,\n    calendarEvents: null,\n    calendarUpdateTime: null,\n    calendarUpdateIntervalMins: 10,\n    weather: null,\n    weatherUpdateTime: null,\n    weatherUpdateIntervalMins: null,\n    location: null,\n  }\n\n  computeSunTimes = () => {\n    if (this.state.location) {\n      console.log(\"computeSunTimes at location: \"+this.state.location.lat + \"   \" + this.state.location.long);\n      return(SunCalc.getTimes(this.state.date, this.state.location.lat, this.state.location.long));\n    } else {\n      console.log(\"computeSunTimes NO LOCATION\");\n      return(null);\n    }\n  }\n\n  computeMoonPhase = () => {\n    console.log(\"computeMoonPhase at \"+this.state.date);\n    return(SunCalc.getMoonIllumination(this.state.date).phase);\n  }\n\n  updateCalendar = () => {\n    if (!this.props.showCalendar || this.props.fixedDate) {\n      console.log(\"skipping updating calendar\")\n      return\n    }\n    console.log(\"updateCalendar\");\n    ApiCalendar.listUpcomingEvents(10)\n      .then(({result}: any) => {\n        // console.log(result.items);\n        this.setState({calendarEvents: result.items, calendarUpdateTime: new Date()})\n\n        // for (var i=0; i < this.state.calendarEvents.length; i++) {\n        //   console.log(this.state.calendarEvents[i].summary)\n        // }\n      });\n  }\n\n  updateWeatherState = (weather) => {\n    var weatherUpdateTime = weather.updatedDateTime.toDate();\n    var weatherUpdateIntervalMins = 60;\n\n    // here we'll assume we JUST got the forecast so we don't need to handle\n    // subtracting weatherUpdateTime\n\n    // even if the minutely weather is clear, if we're expecting rain in the\n    // next hour, we should set the maximum to 30 mins\n    if (weather.hourly.data[0].precipIntensity > 0.01 && weather.hourly.data[0].precipProbability > 0.01) {\n      weatherUpdateIntervalMins = 30\n    }\n    if (weather.hourly.data[1].precipIntensity > 0.01 && weather.hourly.data[1].precipProbability > 0.01) {\n      weatherUpdateIntervalMins = 30\n    }\n\n    // we'll start at minute 15 so that the minimum time between updates is 12 mins\n    for (var min=15; min < 60; min++) {\n      if (weather.minutely.data[min].precipIntensity > 0.01 && weather.minutely.data[min].precipProbability > 0.01) {\n        if (0.8 * min < weatherUpdateIntervalMins) {\n          weatherUpdateIntervalMins = 0.8 * min\n          break\n        }\n      }\n    }\n\n    this.setState({weather: weather, weatherUpdateTime: weatherUpdateTime, weatherUpdateIntervalMins: weatherUpdateIntervalMins})\n  }\n\n  updateWeather = () => {\n    if (!(this.props.showForecastRain || this.props.showForecastCloud || this.props.showForecastTemp) || this.props.fixedDate) {\n      console.log(\"skipping weather update\")\n      return\n    }\n    if (this.state.location) {\n      console.log(\"updateWeather\");\n      var location = {latitude: this.state.location.lat, longitude: this.state.location.long}\n\n      DarkSkyApi.loadItAll('flags,alerts', location)\n        .then(result => this.updateWeatherState(result));\n\n      this.props.refreshForecastComplete();\n    }\n  }\n\n  getDarkSkyLink = (dayOffset) => {\n    var year = this.state.weatherUpdateTime.getFullYear()\n    var month = this.state.weatherUpdateTime.getMonth() + 1\n    var date = this.state.weatherUpdateTime.getDate() + dayOffset\n    if (date > nDays[month-1]) {\n      date -= nDays[month-1]\n      month += 1\n    }\n    if (month > 12) {\n      month = 1\n      year += 1\n    }\n\n    return \"https://darksky.net/details/\"+this.state.location.lat+\",\"+this.state.location.long+\"/\"+year+\"-\"+month+\"-\"+date+\"/us12/en\"\n  }\n\n  componentDidMount() {\n    setInterval(\n      () => {\n          if (this.props.pauseUpdates) return\n\n          var location = this.props.fixedLocation || this.props.liveLocation;\n\n          if (!this.state.location && !location) {\n            // nothing to do here location-wise...\n            this.setState({date: this.props.fixedDate || new Date()});\n          } else if (!this.state.location || (location && (location.long !== this.state.location.long || location.lat !== this.state.location.lat || ! this.state.sunTimes))) {\n            // sunTimes will fail until location is available, but once it is\n            // and sunTimes is set, we don't need to set until the next day\n            // which the other interval will cover\n            this.setState({date: this.props.fixedDate || new Date(), location: location});\n            this.setState({sunTimes: this.computeSunTimes(), moonPhase: this.computeMoonPhase()});\n\n            // clear the weather and let the checks below update it\n            this.setState({weather: null});\n\n          } else if (this.props.fixedDate !== this.state.fixedDate) {\n            this.setState({date: this.props.fixedDate || new Date(), fixedDate: this.props.fixedDate});\n            this.setState({sunTimes: this.computeSunTimes(), moonPhase: this.computeMoonPhase()});\n          } else {\n            this.setState({date: this.props.fixedDate || new Date()});\n          }\n\n          // check to see if weather is out of date and needs to be updated\n          var showWeather = !this.props.fixedDate && (this.props.showForecastRain || this.props.showForecastTemp || this.props.showForecastCloud)\n          var weatherMinsSinceLastUpdate = (this.state.date - this.state.weatherUpdateTime)/60000;\n          var refreshWeatherFromInterval = weatherMinsSinceLastUpdate > this.state.weatherUpdateIntervalMins;\n          // var refreshWeatherNewHour = (this.state.date.getMinutes()===0) && (weatherMinsSinceLastUpdate > 5)\n          if (showWeather && (!this.state.weather || this.props.refreshForecast || refreshWeatherFromInterval)) {\n            this.updateWeather();\n          }\n\n          var showCalendar = !this.props.fixedDate && this.props.showCalendar;\n          if (showCalendar && (!this.state.calendarEvents || (this.state.date - this.state.calendarUpdateTime)/60000 > this.state.calendarUpdateIntervalMins)) {\n            this.updateCalendar();\n          }\n\n\n        },\n        1000  // every second\n    );\n    setInterval(\n      () => {\n        if (this.props.pauseUpdates) return\n        this.setState({sunTimes: this.computeSunTimes(), moonPhase: this.computeMoonPhase()})\n      },\n      1000*60*60*24  // every day\n    );\n    this.setState({moonPhase: this.computeMoonPhase()});\n\n  }\n\n  render() {\n\n    // counter for various for-loops\n    var i = 0;\n\n    // var milliseconds = this.state.date.getMilliseconds();\n    var milliseconds = 0;  // use actual milliseconds if interval above is < 1000, otherwise override to 0\n    var seconds = this.state.date.getSeconds() + milliseconds/1000;\n    var rMinute = seconds/60;\n    var minutes = this.state.date.getMinutes() + rMinute;\n    var rHour = minutes/60;\n    var hours = this.state.date.getHours() + rHour;\n    var rDay = hours/24;\n    var days = this.state.date.getDate() + rDay;\n    var month = this.state.date.getMonth() + 1;\n    var rMonth = (days - 1) / nDays[month-1];\n    var daysTotal = rDay;\n    for (i=1; i < month; i++) {\n        daysTotal += nDays[month-1]\n    }\n    var rYear = daysTotal/365;\n\n\n    if (this.state.sunTimes) {\n      var rDaySunrise = (this.state.sunTimes.sunrise.getHours() + this.state.sunTimes.sunrise.getMinutes()/60)/24;\n      var sunriseTooltipText = 'sunrise today at '+this.state.sunTimes.sunrise.toLocaleTimeString();\n      var rDaySunset = (this.state.sunTimes.sunset.getHours() + this.state.sunTimes.sunset.getMinutes()/60)/24;\n      var sunsetTooltipText = 'sunset today at '+this.state.sunTimes.sunset.toLocaleTimeString();\n    }\n\n    var rMonthNewMoon = rMonth - this.state.moonPhase;\n    var rMonthFirstQuarterMoon = rMonthNewMoon + 0.25;\n    var rMonthFullMoon = rMonthNewMoon + 0.5;\n    var rMonthThirdQuarterMoon = rMonthNewMoon + 0.75;\n\n    var rYearWinterSolstice = (365-10)/365;\n    var rYearFallEquinox = rYearWinterSolstice - 0.25;\n    var rYearSummerSolstice = rYearWinterSolstice - 0.5;\n    var rYearSpringEquinox = rYearWinterSolstice - 0.75;\n\n    var rYearPerihelion = 4/365;\n    var rYearAphelion = rYearPerihelion + 0.5;\n\n\n\n    var cx = this.props.size;\n    var cy = this.props.size;\n    var width = this.props.size/12\n    var strokeWidth = this.props.size/100\n    var centerSize = this.props.size/3\n    var centerIconSize = 0.8*centerSize\n    var spacing = this.props.size/6.5\n\n    // DATE/TIME BELOW CLOCK\n    var hours12 = this.state.date.getHours();\n    if (hours12===0) {\n      hours12 = 12;\n    }\n    if (hours12 > 12) {\n      hours12 -= 12\n    }\n    var timeString = hours12 + \":\" + (\"00\" + this.state.date.getMinutes()).slice(-2);\n    var dateString = this.state.date.toLocaleDateString('en-us', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });\n\n    // CALENDAR\n    var calendarDay = [];\n    var eventDateStart = new Date()\n    var eventDateEnd = new Date()\n    var rDayEventStart = null;\n    var rDayEventEnd = null;\n    var eventTooltip = null;\n    var eventLink = null;\n    if (this.props.showCalendar && this.state.calendarEvents) {\n      for (i=0; i < this.state.calendarEvents.length; i++) {\n        eventDateStart.setTime(Date.parse(this.state.calendarEvents[i].start.dateTime))\n        eventDateEnd.setTime(Date.parse(this.state.calendarEvents[i].end.dateTime))\n        // show events starting within the next 24 hours but have not already completed\n        if (eventDateEnd - this.state.date < 24*60*60*1000 && eventDateEnd - this.state.date > 0) {\n\n          rDayEventStart = (eventDateStart.getHours() + eventDateStart.getMinutes()/60) / 24\n          rDayEventEnd = (eventDateEnd.getHours() + eventDateEnd.getMinutes()/60) / 24\n          eventTooltip = this.state.calendarEvents[i].summary + \" (\"+eventDateStart.toLocaleDateString()+\" \"+eventDateStart.toLocaleTimeString()+\"-\"+eventDateEnd.toLocaleTimeString()+\")\"\n          eventLink = this.state.calendarEvents[i].htmlLink\n          calendarDay.push(<CircleSegment cx={cx} cy={cy}\n                                          r={centerSize+2*spacing} width={2.0*width}\n                                          startAngle={rDayEventStart} endAngle={rDayEventEnd}\n                                          color={this.props.fgColor} strokeWidth={0.75*strokeWidth}\n                                          tooltipText={eventTooltip} tooltipLink={eventLink} onClick={this.props.displayTooltip}/>)\n        }\n      }\n    }\n\n\n    // CENTER ICON\n    var centerIconClass = \"wi \"\n    var centerIconText = null\n    var centerIconOnClick = null\n    if (this.props.fixedDate) {\n      centerIconClass += \"wi-moon-\"+moonIcon[parseInt(this.state.moonPhase*28, 10)];\n    } else if (this.props.showForecastRain) {\n      if (this.state.weather) {\n        // centerIconOnClick = this.toggleForecast\n        centerIconClass += \"wi-forecast-io-\"+this.state.weather.currently.icon;\n      } else {\n        centerIconClass += \"wi-rain\"\n      }\n    } else if (this.props.showForecastTemp) {\n      if (this.state.weather) {\n        centerIconText = parseInt(this.state.weather.currently.temperature, 10);\n      } else {\n        centerIconClass += \"wi-thermometer\"\n      }\n    } else if (this.props.showForecastCloud) {\n      if (!this.state.weather) {\n        centerIconClass += \"wi-cloudy\"\n      } else if (this.state.weather.currently.cloudCover > 0.5) {\n        centerIconClass += \"wi-cloudy\"\n      } else if (this.state.weather.currently.cloudCover > 0.3) {\n        centerIconClass += \"wi-cloud\"\n      } else if (rDay > rDaySunset || rDay < rDaySunrise) {\n        centerIconClass += \"wi-night-clear\"\n      } else {\n        centerIconClass += \"wi-day-sunny\"\n      }\n    } else {\n      centerIconClass += \"wi-moon-\"+moonIcon[parseInt(this.state.moonPhase*28, 10)];\n    }\n\n\n    // WEATHER\n    var opacityFactor = 1.0\n    var precipHour = [];\n    var rHourWeather = null;\n    var hour = null;\n    var tempHour = [];\n    var cloudHour = [];\n    var minHour = null;\n    var minHourText = null;\n    var precipDay = [];\n    var rDayWeather = null;\n    var tempDay = []\n    var cloudDay = [];\n    var precipMonth = [];\n    var rMonthWeather = null;\n    var dayOfWeekWeather = null;\n    var tempMonth = [];\n    var cloudMonth = [];\n    var precipIntensity = null;\n    var precipProbability = null;\n    var precipType = null;\n    var temp = null;\n    var cloudCover = null;\n    var tooltipText = ''\n    var tooltipLink = null;\n    var color = null;\n    if ((this.props.showForecastRain || this.props.showForecastCloud || this.props.showForecastTemp) && this.state.weather && !this.props.fixedDate) {\n\n      if (\"minutely\" in this.state.weather) {\n        // not all locations have minutely data\n        var weatherMinsOld = this.state.date.getMinutes() - this.state.weatherUpdateTime.getMinutes();\n        if (weatherMinsOld < 0) {\n          // handle wrapping\n          weatherMinsOld += 60\n        }\n\n        tooltipLink = this.getDarkSkyLink(0) // TODO: technically this will fail for next day (only near midnight)\n\n        for (var minFuture=0; minFuture<60; minFuture++) {\n          rHourWeather = (this.state.date.getMinutes() + minFuture)/60\n\n          if (rHourWeather < 1) {\n            minHour = 0\n            minHourText = 'this'\n          } else {\n            minHour = 1\n            minHourText = 'next'\n          }\n          if (this.state.date.getHours() > this.state.weatherUpdateTime.getHours()) {\n            minHour += 1\n          }\n\n          // try to access from minutely data if within 60 mins of last update time\n          if (minFuture+weatherMinsOld<60) {\n            // then we can access from minutely data\n            precipIntensity = this.state.weather.minutely.data[minFuture+weatherMinsOld].precipIntensity\n            precipProbability = this.state.weather.minutely.data[minFuture+weatherMinsOld].precipProbability\n            precipType = this.state.weather.minutely.data[minFuture+weatherMinsOld].precipType\n            tooltipText = parseInt(precipProbability*100, 10)+'% chance of '+precipType+' in '+minFuture+' minutes with '+parseInt(precipIntensity*100, 10)+'% intensity.'\n            opacityFactor = 1.0\n          } else {\n            precipIntensity = this.state.weather.hourly.data[minHour].precipIntensity\n            precipProbability = this.state.weather.hourly.data[minHour].precipProbability\n            precipType = this.state.weather.hourly.data[minHour].precipType\n            tooltipText = parseInt(precipProbability*100, 10)+'% chance of '+precipType+' in '+minHourText+' hour with '+parseInt(precipIntensity*100, 10)+'% intensity. (minute data available in '+parseInt(this.state.weatherUpdateIntervalMins-weatherMinsOld, 10)+' minutes)'\n            opacityFactor = 0.7\n          }\n\n          color = getPrecipColor(precipIntensity, precipProbability, precipType);\n          precipHour.push(<CircleSegment cx={cx} cy={cy} r={centerSize+3*spacing} width={(1+0.8*precipProbability)*width}\n                                         startAngle={rHourWeather} endAngle={rHourWeather+1.01/60}\n                                         color={color} opacity={opacityFactor}\n                                         tooltipText={tooltipText} tooltipLink={tooltipLink} onClick={this.props.displayTooltip}/>)\n\n\n\n\n           temp = this.state.weather.hourly.data[minHour].temperature;\n           color = getTempColor(temp);\n           tooltipText = temp+' degrees '+minHourText+' hour.'\n           tempHour.push(<CircleSegment cx={cx} cy={cy} r={centerSize+3*spacing} width={1.5*width}\n                                        startAngle={rHourWeather} endAngle={rHourWeather+1.01/60}\n                                        color={color}\n                                        tooltipText={tooltipText} tooltipLink={tooltipLink} onClick={this.props.displayTooltip}/>)\n\n           cloudCover = this.state.weather.hourly.data[minHour].cloudCover;\n           tooltipText = parseInt(cloudCover*100, 10)+'% cloud cover '+minHourText+' hour.'\n           cloudHour.push(<CircleSegment cx={cx} cy={cy} r={centerSize+3*spacing} width={1.5*width}\n                                         startAngle={rHourWeather} endAngle={rHourWeather+1.01/60}\n                                         color={this.props.fgColor} opacity={0.7*cloudCover}\n                                         tooltipText={tooltipText} tooltipLink={tooltipLink} onClick={this.props.displayTooltip}/>)\n\n\n        }\n      }\n\n      for (var h=0; h < 24; h++) {\n        // weather begins at the beginning of the LATEST hour\n        rDayWeather = (this.state.weatherUpdateTime.getHours() + h)/24\n\n        if (rDayWeather < 0 || rDayWeather > 1) {\n          tooltipLink = this.getDarkSkyLink(1)\n        } else {\n          tooltipLink = this.getDarkSkyLink(0)\n        }\n\n        if (rDayWeather-rDay <= -1/24) {\n          // we'll never be more than one hour behind\n          // opacityFactor = 0.7\n          hour = h+24\n        } else {\n          // opacityFactor = 1.0\n          hour = h\n        }\n\n        precipIntensity = this.state.weather.hourly.data[hour].precipIntensity\n        precipProbability = this.state.weather.hourly.data[hour].precipProbability\n        precipType = this.state.weather.hourly.data[hour].precipType\n        color = getPrecipColor(precipIntensity, precipProbability, precipType);\n        tooltipText = parseInt(precipProbability*100, 10)+'% chance of '+precipType+' starting in '+((rDayWeather-rDay)*24).toFixed(1)+' hours with '+parseInt(precipIntensity*100, 10)+'% intensity.'\n        precipDay.push(<CircleSegment cx={cx} cy={cy} r={centerSize+2*spacing} width={(1+0.8*precipProbability)*width}\n                                      startAngle={rDayWeather} endAngle={rDayWeather+1.01/24}\n                                      color={color} opacity={1.0}\n                                      tooltipText={tooltipText} tooltipLink={tooltipLink} onClick={this.props.displayTooltip} />)\n\n        temp = this.state.weather.hourly.data[hour].temperature;\n        color = getTempColor(temp);\n        tooltipText = temp+' degrees in '+hour+' hours.'\n        tempDay.push(<CircleSegment cx={cx} cy={cy} r={centerSize+2*spacing} width={1.5*width}\n                                    startAngle={rDayWeather} endAngle={rDayWeather+1.01/24}\n                                    color={color} opacity={1.0}\n                                    tooltipText={tooltipText} tooltipLink={tooltipLink} onClick={this.props.displayTooltip}/>)\n\n        cloudCover = this.state.weather.hourly.data[hour].cloudCover;\n        tooltipText = parseInt(cloudCover*100, 10)+'% cloud cover in '+hour+' hours.'\n        cloudDay.push(<CircleSegment cx={cx} cy={cy} r={centerSize+2*spacing} width={1.5*width}\n                                     startAngle={rDayWeather} endAngle={rDayWeather+1.01/24}\n                                     color={this.props.fgColor} opacity={0.7*cloudCover}\n                                     tooltipText={tooltipText} tooltipLink={tooltipLink} onClick={this.props.displayTooltip}/>)\n      }\n      // since the last hour++ has already happened, we'll draw this at hour+delta\n      // precipDay.push(<Tick cx={cx} cy={cy} r={centerSize+2*spacing}\n      //                       endAngle={rDayWeather+1.01/24}\n      //                       color={getPrecipColor(0.1, 1)} strokeWidth={strokeWidth/2} length={1.8*width}/>)\n\n      for (var day=0; day <= 7; day++) {\n        // not sure how rMonthWeather will handle wrapping over months\n        rMonthWeather = (this.state.weatherUpdateTime.getDate() - 1 + day) / nDays[month-1]\n        if (rMonthWeather > 1 ) {\n          rMonthWeather -= 1\n        }\n        tooltipLink = this.getDarkSkyLink(day)\n        // this may also be assuming locale time with Sunday at day 0\n        if (day === 0) {\n          dayOfWeekWeather = 'today'\n        } else if (day === 1) {\n          dayOfWeekWeather = 'tomorrow'\n        } else {\n          dayOfWeekWeather = 'on '+['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'][this.state.weatherUpdateTime.getDay()+day]\n        }\n        precipIntensity = this.state.weather.daily.data[day].precipIntensityMax\n        precipProbability = this.state.weather.daily.data[day].precipProbability\n        precipType = this.state.weather.daily.data[day].precipType\n        color = getPrecipColor(precipIntensity, precipProbability, precipType);\n        tooltipText = parseInt(precipProbability*100, 10)+'% chance of '+precipType+' '+dayOfWeekWeather+' with '+parseInt(precipIntensity*100, 10)+'% maximum intensity.'\n        precipMonth.push(<CircleSegment cx={cx} cy={cy} r={centerSize+1*spacing} width={(1+0.8*precipProbability)*width}\n                                        startAngle={rMonthWeather} endAngle={rMonthWeather+1.01/nDays[month-1]}\n                                        color={color}\n                                        tooltipText={tooltipText} tooltipLink={tooltipLink} onClick={this.props.displayTooltip} />)\n\n        temp = this.state.weather.daily.data[day].temperatureMax;\n        color = getTempColor(temp);\n        tooltipText = temp+' degrees (max) '+dayOfWeekWeather+'.'\n        tempMonth.push(<CircleSegment cx={cx} cy={cy} r={centerSize+1*spacing} width={1.5*width}\n                                      startAngle={rMonthWeather} endAngle={rMonthWeather+1.01/nDays[month-1]}\n                                      color={color}\n                                      tooltipText={tooltipText} tooltipLink={tooltipLink} onClick={this.props.displayTooltip}/>)\n\n        cloudCover = this.state.weather.daily.data[day].cloudCover;\n        tooltipText = parseInt(cloudCover*100, 10)+'% cloud cover '+dayOfWeekWeather+'.'\n        cloudMonth.push(<CircleSegment cx={cx} cy={cy} r={centerSize+1*spacing} width={1.5*width}\n                                       startAngle={rMonthWeather} endAngle={rMonthWeather+1.01/nDays[month-1]}\n                                       color={this.props.fgColor} opacity={0.7*cloudCover}\n                                       tooltipText={tooltipText} tooltipLink={tooltipLink} onClick={this.props.displayTooltip}/>)\n\n      }\n      // since the last day++ has already happened, we'll draw this at day+delta instead of day+1\n      precipMonth.push(<Tick cx={cx} cy={cy} r={centerSize+1*spacing}\n                             endAngle={rMonthWeather+1.01/nDays[month-1]}\n                             color={getPrecipColor(0.1, 1)} strokeWidth={strokeWidth/2} length={1.8*width}/>)\n    }\n\n\n\n    return (\n      <div style={{paddingTop:50}}>\n        {/* center icon : height set to 0 so as not to block click targets on svg elements below */}\n        <td style={{textAlign: 'center', zIndex: -999, height: \"0px\"}}>\n          <i style={{color: this.props.fgColor, fontSize: centerIconSize, position: 'fixed', top: this.props.size+50-centerIconSize/2, width: '100%', height: \"0px\", display: 'inline-block'}}>\n            <Link to={{pathname: process.env.PUBLIC_URL + '/', search: queryString.stringify(this.props.cycleForecastNextQuery, {encode: false})}}>\n              {centerIconText ?\n                <span onClick={centerIconOnClick}>{centerIconText}&deg;</span> :\n                <span className={centerIconClass} onClick={centerIconOnClick}></span>\n              }\n            </Link>\n          </i>\n        </td>\n\n        <div>\n          <svg width={this.props.size*2} height={this.props.size*2}>\n            <g>\n              {/* per-year */}\n              <Tick cx={cx} cy={cy} r={centerSize+0*spacing} endAngle={rYearWinterSolstice} color={this.props.fgColor} strokeWidth={strokeWidth/2} length={width}/>\n              <Tick cx={cx} cy={cy} r={centerSize+0*spacing} endAngle={rYearFallEquinox} color={this.props.fgColor} strokeWidth={strokeWidth/2} length={width}/>\n              <Tick cx={cx} cy={cy} r={centerSize+0*spacing} endAngle={rYearSummerSolstice} color={this.props.fgColor} strokeWidth={strokeWidth/2} length={width}/>\n              <Tick cx={cx} cy={cy} r={centerSize+0*spacing} endAngle={rYearSpringEquinox} color={this.props.fgColor} strokeWidth={strokeWidth/2} length={width}/>\n              <Tick cx={cx} cy={cy} r={centerSize+0*spacing} endAngle={rYearPerihelion} color={this.props.fgColor} strokeWidth={strokeWidth} length={width/2}/>\n              <Tick cx={cx} cy={cy} r={centerSize+0*spacing} endAngle={rYearAphelion} color={this.props.fgColor} strokeWidth={strokeWidth} length={width/2}/>\n              <CircleSegment cx={cx} cy={cy} r={centerSize+0*spacing} width={width} startAngle={0} endAngle={rYear} color={this.props.fgColor} strokeWidth={strokeWidth}/>\n\n              {/* per-month */}\n              {this.props.showForecastCloud ? cloudMonth : null}\n              {this.props.showForecastTemp ? tempMonth : null}\n              {this.props.showForecastRain ? precipMonth : null}\n              <CircleMarker cx={cx} cy={cy} r={centerSize+1*spacing} width={0.9*width} endAngle={rMonthNewMoon} color={this.props.fgColor} strokeWidth={strokeWidth} fill={'transparent'}/>\n              <CircleMarker cx={cx} cy={cy} r={centerSize+1*spacing} width={0.9*width} endAngle={rMonthFirstQuarterMoon} color={this.props.fgColor} strokeWidth={strokeWidth} fill={'transparent'}/>\n              <HalfCircleMarker cx={cx} cy={cy} r={centerSize+1*spacing} width={0.9*width} endAngle={rMonthFirstQuarterMoon} leftHalf={true} color={this.props.fgColor}/>\n              <CircleMarker cx={cx} cy={cy} r={centerSize+1*spacing} width={0.9*width} endAngle={rMonthFullMoon} color={this.props.fgColor} strokeWidth={strokeWidth} fill={this.props.fgColor}/>\n              <CircleMarker cx={cx} cy={cy} r={centerSize+1*spacing} width={0.9*width} endAngle={rMonthThirdQuarterMoon} color={this.props.fgColor} strokeWidth={strokeWidth} fill={'transparent'}/>\n              <HalfCircleMarker cx={cx} cy={cy} r={centerSize+1*spacing} width={0.9*width} endAngle={rMonthThirdQuarterMoon} leftHalf={false} color={this.props.fgColor}/>\n\n              <CircleSegment cx={cx} cy={cy} r={centerSize+1*spacing} width={width} startAngle={0} endAngle={rMonth} color={this.props.fgColor} strokeWidth={strokeWidth}/>\n\n              {/* per-day (hour) */}\n              {this.props.showForecastCloud ? cloudDay : null}\n              {this.props.showForecastTemp ? tempDay : null}\n              {this.props.showForecastRain ? precipDay : null}\n              {this.props.showCalendar ? calendarDay : null}\n              <CircleSegment cx={cx} cy={cy} r={centerSize+2*spacing} width={width} startAngle={0} endAngle={rDay} color={this.props.fgColor}/>\n              {this.state.sunTimes ? <CircleMarker cx={cx} cy={cy} r={centerSize+2*spacing} width={1.7*width} endAngle={rDaySunrise} color={this.props.fgColor} strokeWidth={strokeWidth} fill={this.props.fgColor} tooltipText={sunriseTooltipText} onClick={this.props.displayTooltip}/> : null}\n              {this.state.sunTimes ? <CircleMarker cx={cx} cy={cy} r={centerSize+2*spacing} width={1.7*width} endAngle={rDaySunset} color={this.props.fgColor} strokeWidth={strokeWidth} fill={'transparent'} tooltipText={sunsetTooltipText} onClick={this.props.displayTooltip}/> : null}\n\n              {/* per-hour (minute) */}\n              {this.props.showForecastCloud ? cloudHour : null}\n              {this.props.showForecastTemp ? tempHour : null}\n              {this.props.showForecastRain ? precipHour : null}\n              <CircleSegment cx={cx} cy={cy} r={centerSize+3*spacing} width={width} startAngle={0} endAngle={rHour} color={this.props.fgColor}/>\n\n              {/* per-minute (second) */}\n              <Tick cx={cx} cy={cy} r={centerSize+4*spacing} endAngle={rMinute} color={this.props.fgColor} strokeWidth={strokeWidth/2} length={width}/>\n            </g>\n          </svg>\n        </div>\n\n        <div>\n          <Link style={{color: this.props.fgColor, margin: \"5px\", display: \"inherit\", fontFamily: \"Helvetica, Arial, sans-serif\", fontSize: 56, fontWeight: \"bold\"}} to={{pathname: process.env.PUBLIC_URL + '/datetime', search: this.props.search}}>{timeString}</Link>\n          <Link style={{color: this.props.fgColor, margin: \"5px\", display: \"inherit\", fontSize: 24, fontWeight: \"normal\"}} to={{pathname: process.env.PUBLIC_URL + '/datetime', search: this.props.search}}>{dateString}</Link>\n          <Link style={{color: this.props.fgColor, margin: \"5px\", display: \"inherit\", fontSize: 24, fontWeight: \"normal\"}} to={{pathname: process.env.PUBLIC_URL + '/location', search: this.props.search}}>{this.props.locationName}</Link>\n          {/* <p style={{color: this.props.fgColor}}>Sunrise: {this.state.sunTimes ? this.state.sunTimes.sunrise.toLocaleTimeString() : \"waiting for location\"} | Sunset: {this.state.sunTimes ? this.state.sunTimes.sunset.toLocaleTimeString() : \"waiting for location\"}</p> */}\n          {/* <p style={{color: this.props.fgColor}}>Moonphase: {this.state.moonPhase}</p> */}\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport {BrowserRouter as Router, Route, Link} from 'react-router-dom';\n\nimport {geolocated} from 'react-geolocated'; // https://www.npmjs.com/package/react-geolocated\nimport queryString from 'query-string'; // https://www.npmjs.com/package/query-string\nimport DateTimePicker from 'react-datetime-picker'; // https://github.com/wojtekmaj/react-datetime-picker\nimport Geosuggest from 'react-geosuggest'; // https://github.com/ubilabs/react-geosuggest\nimport {ChromePicker} from 'react-color'; // https://github.com/casesandberg/react-color\nimport ApiCalendar from 'react-google-calendar-api/build/ApiCalendar.js'; // https://github.com/Insomniiak/react-google-calendar-api\nimport WAVES from 'vanta/dist/vanta.waves.min.js'\n\nimport Clock from './clock';\nimport './App.css';\n\n\n// see https://developer.mozilla.org/en-US/docs/Web/API/Page_Visibility_API\nvar hidden, visibilityChange;\nif (typeof document.hidden !== \"undefined\") { // Opera 12.10 and Firefox 18 and later support\n  hidden = \"hidden\";\n  visibilityChange = \"visibilitychange\";\n} else if (typeof document.msHidden !== \"undefined\") {\n  hidden = \"msHidden\";\n  visibilityChange = \"msvisibilitychange\";\n} else if (typeof document.webkitHidden !== \"undefined\") {\n  hidden = \"webkitHidden\";\n  visibilityChange = \"webkitvisibilitychange\";\n}\n\nvar getfgColor = function(query) {\n  if ('fgColor' in query) {\n    if (query.fgColor.length===6) {\n      // then we assume hex\n      return '#'+query.fgColor\n    }\n    return query.fgColor;\n  } else {\n    return '#ffffff';\n  }\n}\n\nvar getbgColor = function(query) {\n  if ('bgColor' in query) {\n    if (query.bgColor.length===6) {\n      // then we assume hex\n      return '#'+query.bgColor\n    }\n    return query.bgColor;\n  } else {\n    return '#212c40';\n  }\n}\n\nvar getShowCalendar = function(query) {\n  if ('calendar' in query) {\n    return query.calendar\n  }\n  return null;\n}\n\n\nvar getForecastType = function(query) {\n  if ('forecast' in query) {\n    return query.forecast;\n  }\n  return null;\n}\n\nvar getForecastCycle = function(query) {\n  if ('forecastCycleSeconds' in query) {\n    return query.forecastCycleSeconds;\n  }\n  return 0;\n}\n\nvar getNextForecastButton = function(search, forecastType) {\n  var cycleForecastNextQuery = queryString.parse(search);\n\n  var toggleForecastIcon = 'wi fa-2x '\n  if (forecastType==='precipitation') {\n    toggleForecastIcon += 'wi-rain'\n    cycleForecastNextQuery.forecast = 'temperature'\n  } else if (forecastType==='temperature') {\n    toggleForecastIcon += 'wi-thermometer'\n    cycleForecastNextQuery.forecast = 'cloud-coverage'\n  } else if (forecastType==='cloud-coverage') {\n    toggleForecastIcon += 'wi-cloudy'\n    cycleForecastNextQuery.forecast = undefined\n  } else {\n    toggleForecastIcon += 'wi-cloud'\n    cycleForecastNextQuery.forecast = 'precipitation'\n  }\n\n  return [cycleForecastNextQuery, toggleForecastIcon]\n\n}\n\nvar getFixedDate = function(query) {\n  if ('fixedDate' in query) {\n    var fixedDate = new Date()\n    fixedDate.setTime(Date.parse(query.fixedDate))\n    return fixedDate;\n  }\n  return null;\n}\n\nvar getFixedLocation = function(query) {\n  if ('fixedLocation' in query) {\n    var fixedLocation = query.fixedLocation.split(\",\");\n    return {lat: parseFloat(fixedLocation[0]), long: parseFloat(fixedLocation[1])};\n  }\n  return null;\n}\n\nvar getLocationName = function(query) {\n  if ('locationName' in query) {\n    return query.locationName;\n  }\n  return null;\n}\n\nvar getHideControls = function(query) {\n  if ('hideControls' in query) {\n    return query.hideControls === 'true'\n  }\n  return false\n}\n\n\nclass App extends Component {\n  constructor() {\n    super()\n    this.state = {\n      windowWidth: window.innerWidth,\n      windowHeight: window.innerHeight,\n      windowVisible: true,\n      pauseUpdates: false, // only to be accessible from react developer tools\n      refreshForecast: false,\n    }\n  }\n\n  onChange = settings => this.setState(settings)\n  forceRefreshForecast = () => {\n    this.setState({refreshForecast: true})\n  }\n  refreshForecastComplete = () => {\n    this.setState({refreshForecast: false})\n  }\n  componentDidMount() {\n    window.addEventListener('resize', this.updateWindowDimensions);\n    window.addEventListener(visibilityChange, this.updateWindowVisibility);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.updateWindowDimensions);\n    window.removeEventListener(visibilityChange, this.updateWindowVisibility);\n  }\n\n  updateWindowDimensions = () => {\n    this.setState({ windowWidth: window.innerWidth, windowHeight: window.innerHeight });\n  }\n  updateWindowVisibility = () => {\n    this.setState({windowVisible: !document[hidden]});\n  }\n  render() {\n    var size = 0.8 * this.state.windowWidth/2\n    if (this.state.windowHeight/2 - 125 < size) {\n      size = this.state.windowHeight/2 - 125\n    }\n\n    // console.log(\"windowWidth: \"+ this.state.windowWidth + \"   \" + window.innerWidth+ \"   size: \"+ size);\n\n    var liveLocation = null;\n    if (this.props.coords) {\n      // then read from the browser location\n      liveLocation = {lat: this.props.coords.latitude, long: this.props.coords.longitude}\n    }\n\n    return (\n      <div className=\"App\">\n        <Router>\n          <div>\n            <Route path={process.env.PUBLIC_URL + '/info'} render={(props) => <Info match={props.match} search={props.location.search} query={queryString.parse(props.location.search)} />}/>\n            <Route path={process.env.PUBLIC_URL + '/datetime'} render={(props) => <DatetimeSettings match={props.match} history={props.history} search={props.location.search} query={queryString.parse(props.location.search)} />}/>\n            <Route path={process.env.PUBLIC_URL + '/location'} render={(props) => <LocationSettings match={props.match} history={props.history} search={props.location.search} query={queryString.parse(props.location.search)} liveLocation={liveLocation} />}/>\n            <Route path={process.env.PUBLIC_URL + '/color'} render={(props) => <ColorSettings match={props.match} history={props.history} search={props.location.search} query={queryString.parse(props.location.search)}/>}/>\n            <Route path={process.env.PUBLIC_URL + '/'} render={(props) => <ClockApp match={props.match} history={props.history} search={props.location.search} query={queryString.parse(props.location.search)}\n                                                                                    size={size}\n                                                                                    liveLocation = {liveLocation}\n                                                                                    forceRefreshForecast={this.forceRefreshForecast} refreshForecast={this.state.refreshForecast} refreshForecastComplete={this.refreshForecastComplete}\n                                                                                    windowVisible={this.state.windowVisible} pauseUpdates={this.state.pauseUpdates}/>}/>\n          </div>\n        </Router>\n\n      </div>\n    )\n  }\n}\n\nclass ClockApp extends Component {\n  constructor(props) {\n      super(props);\n      this.state = {\n        showTooltip: false,\n        tooltipText: '',\n        tooltipLink: null,\n        liveLocationName: null,\n        calendarAuthorized: ApiCalendar.sign,\n      };\n      ApiCalendar.onLoad(() => {\n        this.calendarAuthorizeIfNecessary();\n          // ApiCalendar.listenSign(this.updateCalendarAuthorization);\n      });\n      this.vantaRef = React.createRef()\n      this.vantaEffect = null\n  }\n  displayTooltip = (tooltipText, tooltipLink) => {\n    // console.log(\"request to show tooltip with text: \"+tooltipText)\n    this.setState({tooltipText: tooltipText, tooltipLink: tooltipLink, showTooltip: true});\n  }\n  hideTooltip = () => {\n    this.setState({showTooltip: false});\n  }\n  calendarAuthorizeIfNecessary = () => {\n    if (!this.state.calendarAuthorized && getShowCalendar(this.props.query)) {\n      this.onCalendarAuthorize();\n    }\n  }\n  updateCalendarAuthorization = () => {\n    this.setState({calendarAuthorized: ApiCalendar.sign});\n  }\n  onCalendarAuthorize = () => {\n    console.log(\"onCalendarAuthorize\");\n    ApiCalendar.handleAuthClick();\n    this.updateCalendarAuthorization();\n    this.props.query.calendar = true;\n    this.props.history.push({pathname: process.env.PUBLIC_URL + '/', search: queryString.stringify(this.props.query, {encode: false})})\n  }\n  componentDidMount() {\n    var forecastCycleSeconds = getForecastCycle(this.props.query);\n    if (forecastCycleSeconds > 1) {\n      setInterval(\n        () => {\n            var forecastType = getForecastType(this.props.query);\n            var [cycleForecastNextQuery, toggleForecastIcon] = getNextForecastButton(this.props.search, forecastType)\n            this.props.history.replace({pathname: process.env.PUBLIC_URL + '/', search: queryString.stringify(cycleForecastNextQuery, {encode: false})})\n          },\n          forecastCycleSeconds * 1000\n      );\n    }\n\n    if (this.props.query.bgAnimated) {\n      this.vantaEffect = WAVES({\n            el: this.vantaRef.current,\n            mouseControls: false,\n            touchControls: false,\n            gyroControls: false,\n            minHeight: window.innerHeight,\n            minWidth: window.innerWidth,\n            scale: 1.0,\n            scaleMobile: 1.00,\n            color: '#212c40'\n      })\n    }\n\n  }\n  componentWillUnmount() {\n    if (this.vantaEffect) this.vantaEffect.destroy()\n  }\n\n  render() {\n    var fgColor = getfgColor(this.props.query);\n    var bgColor = getbgColor(this.props.query);\n    var showCalendar = getShowCalendar(this.props.query);\n    var forecastType = getForecastType(this.props.query);\n    var fixedDate = getFixedDate(this.props.query); // will use live-data if null\n    var fixedLocation = getFixedLocation(this.props.query); // will use live-data if null\n    var fixedLocationName = getLocationName(this.props.query); // won't display if null\n    const hideControls = getHideControls(this.props.query);\n\n    if (!fixedLocationName && this.props.liveLocation && !this.state.liveLocationName) {\n      console.log(\"attempting reverse geolocation at: lat: \"+this.props.liveLocation.lat+\" lng: \"+this.props.liveLocation.long)\n      var geocoder = new window.google.maps.Geocoder();\n      geocoder.geocode({'location': {lat: this.props.liveLocation.lat, lng: this.props.liveLocation.long}}, (results, status) => {\n                if (status === 'OK') {\n                  for (var i = 0; i < results.length; i++) {\n                    if (results[i].types.includes(\"locality\")) {\n                      this.setState({liveLocationName: results[i].formatted_address});\n                      break\n                    }\n                  }\n                } else {\n                  console.log(\"reverse geocode failed with status: \"+status)\n                }\n              });\n    }\n\n    document.body.style.backgroundColor = bgColor;\n\n    var forecastButtons = [];\n    if (!fixedDate && (fixedLocation || this.props.liveLocation)) {\n      var refreshForecastButton = null;\n      // here we'll reparse search to avoid soft-copying the query dictionary,\n      // otherwise it'll automatically be updated and if this ClockApp\n      // is redrawn (e.g. by toggling the tooltip) then the cycle will be invoked.\n      var [cycleForecastNextQuery, toggleForecastIcon] = getNextForecastButton(this.props.search, forecastType)\n      var toggleForecastOpacity = 0.6;\n\n      if (forecastType) {\n        toggleForecastOpacity = 0.9\n        var refreshForecastOpacity = 0.6\n        if (this.props.refreshForecast) {\n          refreshForecastOpacity = 0.9\n        }\n        refreshForecastButton = <ToggleButton onClick={this.props.forceRefreshForecast} style={{paddingRight: \"10px\", opacity: refreshForecastOpacity}} iconColor={fgColor} iconWidth=\"40px\" iconClass={'wi fa-2x wi-cloud-refresh'}/>\n      }\n\n      forecastButtons.push(<ToggleButton to={{pathname: process.env.PUBLIC_URL + '/', search: queryString.stringify(cycleForecastNextQuery, {encode: false})}} style={{paddingRight: \"10px\", opacity: toggleForecastOpacity}} iconColor={fgColor} iconWidth=\"40px\" iconClass={toggleForecastIcon}/>)\n      forecastButtons.push(refreshForecastButton)\n\n    }\n\n    var calendarButtons = [];\n    if (this.state.calendarAuthorized) {\n\n      // see note above for forecast on why we do this\n      var cycleCalendarNextQuery = queryString.parse(this.props.search);\n      if (showCalendar) {\n        cycleCalendarNextQuery.calendar = undefined\n      } else {\n        cycleCalendarNextQuery.calendar = true\n      }\n\n      var toggleCalendarOpacity = 0.6;\n      if (showCalendar) {\n        toggleCalendarOpacity = 0.9\n      }\n\n      calendarButtons.push(<ToggleButton to={{pathname: process.env.PUBLIC_URL + '/', search: queryString.stringify(cycleCalendarNextQuery, {encode: false})}} style={{paddingRight: \"10px\", opacity: toggleCalendarOpacity}} iconColor={fgColor} iconWidth=\"40px\" iconClass={'far fa-2x fa-calendar-alt'}/>)\n    } else {\n      calendarButtons.push(<ToggleButton onClick={this.onCalendarAuthorize} style={{paddingRight: \"10px\", opacity: 0.6}} iconColor={fgColor} iconWidth=\"40px\" iconClass={'far fa-2x fa-calendar'}/>)\n    }\n\n    return (\n      <div className=\"ClockApp\" ref={this.vantaRef}>\n        <Tooltip showTooltip={this.state.showTooltip} tooltipText={this.state.tooltipText} tooltipLink={this.state.tooltipLink} onClose={this.hideTooltip} bgColor={bgColor} fgColor={fgColor} />\n\n        {!hideControls ?\n          <div style={{position: \"absolute\", top: \"2%\", right: \"2%\"}}>\n            <ToggleButton to={{pathname: process.env.PUBLIC_URL + '/info', search: this.props.search}} style={{paddingLeft: \"10px\", opacity: 0.6}} iconColor={fgColor} iconWidth=\"40px\" iconClass={'fas fa-lg fa-info'}/>\n          </div>\n          :\n          null\n        }\n\n        {!hideControls ?\n          <div style={{position: \"absolute\", bottom: \"2%\", left: \"2%\"}}>\n            {calendarButtons}\n            {forecastButtons}\n          </div>\n          :\n          null\n        }\n\n        {!hideControls ?\n          <div style={{position: \"absolute\", bottom: \"2%\", right: \"2%\"}}>\n            <ToggleButton to={{pathname: process.env.PUBLIC_URL + '/color', search: this.props.search}} style={{paddingLeft: \"10px\", opacity: 0.6}} iconColor={fgColor} iconWidth=\"40px\" iconClass={'fas fa-2x fa-palette'}/>\n            {/* <ToggleButton to={{pathname: process.env.PUBLIC_URL + '/settings', search: this.props.search}} style={{paddingLeft: \"10px\", opacity: 0.6}} iconColor={fgColor} iconWidth=\"40px\" iconClass={'fas fa-2x fa-cog'}/> */}\n          </div>\n          :\n          null\n        }\n\n        <Clock search={this.props.search}\n               size={this.props.size} bgColor={bgColor} fgColor={fgColor}\n               fixedDate={fixedDate} fixedLocation={fixedLocation} liveLocation={this.props.liveLocation} locationName={fixedLocationName || this.state.liveLocationName}\n               showCalendar={showCalendar && this.state.calendarAuthorized}\n               showForecastRain={forecastType==='precipitation'} showForecastTemp={forecastType==='temperature'} showForecastCloud={forecastType==='cloud-coverage'}\n               refreshForecast={this.props.refreshForecast} refreshForecastComplete={this.props.refreshForecastComplete} cycleForecastNextQuery={cycleForecastNextQuery || null}\n               displayTooltip={this.displayTooltip}\n               pauseUpdates={!this.props.windowVisible || this.props.pauseUpdates}/>\n      </div>\n    )\n  }\n}\n\n\nclass ToggleButton extends Component {\n  render() {\n    if (this.props.to) {\n      return (\n        <Link className=\"button\" to={this.props.to} style={this.props.style}>\n          <i className={this.props.iconClass} style={{color: this.props.iconColor, width: this.props.iconWidth}}></i>\n          {this.props.text}\n        </Link>\n      )\n    } else {\n      return (\n        <a className=\"button\" onClick={this.props.onClick} style={this.props.style}>\n          <i className={this.props.iconClass} style={{color: this.props.iconColor, width: this.props.iconWidth}}></i>\n          {this.props.text}\n        </a>\n      )\n    }\n  }\n}\n\nclass Tooltip extends Component {\n  render () {\n    var display = 'block'\n    if (!this.props.showTooltip) {\n      display = 'none'\n    }\n    return (\n      <div style={{position: \"fixed\", width: \"100%\", height: \"100%\", paddingTop: \"30%\", backgroundColor: \"rgba(0,0,0,0.85)\", display: display, zIndex: 999}} onClick={this.props.onClose}>\n        <div style={{top: '50%', width: '50%', margin: 'auto', backgroundColor: this.props.bgColor, borderRadius: '10px', padding: '5px 20px 5px 20px'}}>\n          <h2 style={{color: this.props.fgColor}}>{this.props.tooltipText}</h2>\n          {this.props.tooltipLink ? <a href={this.props.tooltipLink} style={{color: this.props.fgColor}} target=\"_blank\" rel=\"noopener noreferrer\"><span className=\"fas fa-external-link-alt\"/> more info</a> : null}\n          <p style={{color: this.props.fgColor}}>(click anywhere to close)</p>\n        </div>\n      </div>\n\n    )\n  }\n}\n\nclass Info extends Component {\n  render () {\n    var fgColor = getfgColor(this.props.query);\n    var bgColor = getbgColor(this.props.query);\n\n    return (\n      <div style={{position: \"fixed\", width: \"100%\", height: \"100%\", paddingTop: \"50px\", backgroundColor: bgColor, zIndex: 999, overflowY: 'scroll'}}>\n      <ToggleButton to={{pathname: process.env.PUBLIC_URL + '/', search: this.props.search}} style={{position: \"fixed\", top: \"2%\", right: \"2%\"}} iconColor={fgColor} iconClass={'fas fa-2x fa-times'}/>\n\n        <div className='Settings' style={{paddingTop: '5px'}}>\n          <div className='SettingsSection'>\n            <p style={{color: fgColor}}>Designed and Written by <a href=\"http://keconroy.com\" target=\"_blank\" rel=\"noopener noreferrer\">Kyle Conroy</a><br/>\n            as an <a href=\"http://github.com/kecnry/cosmic-clock\" target=\"_blank\" rel=\"noopener noreferrer\">open-source project on GitHub</a></p>\n          </div>\n          <div className='SettingsSection'>\n            <p style={{color: fgColor, paddingLeft: '10px', paddingRight: '10px', maxWidth: '600px', margin: 'auto'}}>\n              <b>How to read:</b>the tick moving around the outside of the circle can be thought of as the second-hand of a clock.\n              Just inside that is a solid arc representing the minute-hand of a clock, or circular progress bar representing how much of the current hour has passed.\n              The inner solid arc tells how much of the current day has passed (so like an hour-hand, but representing a full 24 hours instead of 12).  On top of this arc are two icons: a solid and hollow circle representing the time of sunrise and sunset, respectively, for the current location.\n              The outer hollow arc tells how much of the current month has passed, with icons representing the (approximate) times in the current month of the quarter phases of the moon.\n              The inner hollow arc tells how much of the current year has passed, with the long ticks representing the solar solstices and equinoxes (roughly the beginning of each season) and the shorter ticks representing perihelion (around Jan 4) and aphelion (around June 4) when the Earth is closest and furthest from the sun in its orbit, respectively.\n              <br/><br/>\n              If weather is displayed (togglable in the bottom left) then the forecast for rain is overlayed with color representing intensitiy and width representing the chance of precipitation.  Clicking on any overlay will show the details of the expected precipitation.\n\n            </p>\n          </div>\n          <div className='SettingsSection'>\n            <p style={{color: fgColor}}>Weather <a href=\"https://darksky.net/poweredby/\" target=\"_blank\" rel=\"noopener noreferrer\">Powered by DarkSky</a></p>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nclass DatetimeSettings extends Component {\n  onChangeDateTime = (date) => {\n    if (date) {\n      this.props.query.fixedDate = date.toString();\n    } else {\n      this.props.query.fixedDate = undefined;\n    }\n    this.props.history.push({pathname: process.env.PUBLIC_URL + '/datetime', search: queryString.stringify(this.props.query, {encode: false})})\n\n  }\n\n  render() {\n    var fgColor = getfgColor(this.props.query);\n    var bgColor = getbgColor(this.props.query);\n\n    var fixedDate = getFixedDate(this.props.query); // will use live-data if null\n\n\n    return (\n      <div style={{position: \"fixed\", width: \"100%\", height: \"100%\", paddingTop: \"10px\", backgroundColor: bgColor, zIndex: 999, overflowY: 'scroll'}}>\n        <ToggleButton to={{pathname: process.env.PUBLIC_URL + '/', search: this.props.search}} style={{position: \"fixed\", top: \"2%\", right: \"2%\"}} iconColor={fgColor} iconClass={'fas fa-2x fa-times'}/>\n\n        <div className='Settings' style={{paddingTop: '5px'}}>\n          <div className='SettingsSection'>\n            <p style={{color: fgColor}}>Date and Time</p><br/>\n            <DateTimePicker onChange={this.onChangeDateTime} value={fixedDate}/>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nclass LocationSettings extends Component {\n  onChangeLocation = (location) => {\n    if (location && \"location\" in location) {\n      this.props.query.fixedLocation = location.location.lat+\",\"+location.location.lng;\n      this.props.query.locationName = location.description;\n    } else {\n      this.props.query.fixedLocation = undefined;\n      this.props.query.locationName = undefined;\n    }\n    this.props.history.push({pathname: process.env.PUBLIC_URL + '/location', search: queryString.stringify(this.props.query, {encode: false})})\n  }\n\n  render() {\n    var fgColor = getfgColor(this.props.query);\n    var bgColor = getbgColor(this.props.query);\n\n    return (\n      <div style={{position: \"fixed\", width: \"100%\", height: \"100%\", paddingTop: \"10px\", backgroundColor: bgColor, zIndex: 999, overflowY: 'scroll'}}>\n        <ToggleButton to={{pathname: process.env.PUBLIC_URL + '/', search: this.props.search}} style={{position: \"fixed\", top: \"2%\", right: \"2%\"}} iconColor={fgColor} iconClass={'fas fa-2x fa-times'}/>\n\n        <div className='Settings' style={{paddingTop: '5px'}}>\n          <div className='SettingsSection'>\n            <p style={{color: fgColor}}>Location</p><br/>\n            {this.props.liveLocation ? <button onClick={this.onChangeLocation} style={{marginBottom: \"10px\"}}>Use GPS Location</button> : <p style={{color: fgColor}}>enable browser location to use live-location</p>}\n            <Geosuggest onSuggestSelect={this.onChangeLocation} types={[\"(cities)\"]}/>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nclass ColorSettings extends Component {\n  onChangebgColor = (color) => {\n    // this.props.onChange({bgColor: \"rgba(\"+color.rgb.r+\",\"+color.rgb.g+\",\"+color.rgb.b+\",\"+color.rgb.a+\")\"});\n    this.props.query.bgColor = color.hex.slice(1);\n    this.props.history.push({pathname: process.env.PUBLIC_URL + '/color', search: queryString.stringify(this.props.query)})\n\n  }\n  onChangefgColor = (color) => {\n    // this.props.onChange({fgColor: \"rgba(\"+color.rgb.r+\",\"+color.rgb.g+\",\"+color.rgb.b+\",\"+color.rgb.a+\")\"});\n    this.props.query.fgColor = color.hex.slice(1);\n    this.props.history.push({pathname: process.env.PUBLIC_URL + '/color', search: queryString.stringify(this.props.query)})\n\n  }\n  render() {\n    var fgColor = getfgColor(this.props.query);\n    var bgColor = getbgColor(this.props.query);\n\n    return (\n      <div style={{position: \"fixed\", width: \"100%\", height: \"100%\", paddingTop: \"10px\", backgroundColor: bgColor, zIndex: 999, overflowY: 'scroll'}}>\n        <ToggleButton to={{pathname: process.env.PUBLIC_URL + '/', search: this.props.search}} style={{position: \"fixed\", top: \"2%\", right: \"2%\"}} iconColor={fgColor} iconClass={'fas fa-2x fa-times'}/>\n        <ToggleButton to={{pathname: process.env.PUBLIC_URL + '/', search: this.props.search}} style={{position: \"fixed\", bottom: \"2%\", right: \"2%\"}} iconColor={fgColor} iconClass={'fas fa-2x fa-times'}/>\n\n        <div className='Settings' style={{paddingTop: '5px'}}>\n          <div className='SettingsSection'>\n            <p style={{color: fgColor}}>Background Color</p><br/>\n            <div style={{margin: 'auto', width: '225px'}}>\n              <ChromePicker onChangeComplete={this.onChangebgColor} color={bgColor} disableAlpha={true}/>\n            </div>\n          </div>\n          <div className='SettingsSection'>\n            <p style={{color: fgColor}}>Foreground Color</p><br/>\n            <div style={{margin: 'auto', width: '225px'}}>\n              <ChromePicker onChangeComplete={this.onChangefgColor} color={fgColor} disableAlpha={true}/>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default geolocated()(App);\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\nregisterServiceWorker();\n"],"sourceRoot":""}